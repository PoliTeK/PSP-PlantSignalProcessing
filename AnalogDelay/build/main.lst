ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"main.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN5daisy9DaisySeedD2Ev,"axG",%progbits,_ZN5daisy9DaisySeedD5Ev,comdat
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN5daisy9DaisySeedD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN5daisy9DaisySeedD2Ev:
  27              	.LVL0:
  28              	.LFB2645:
  29              		.file 1 "../libDaisy/src/daisy_seed.h"
   1:../libDaisy/src/daisy_seed.h **** #pragma once
   2:../libDaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../libDaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../libDaisy/src/daisy_seed.h **** 
   5:../libDaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../libDaisy/src/daisy_seed.h **** 
   7:../libDaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../libDaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../libDaisy/src/daisy_seed.h **** 
  10:../libDaisy/src/daisy_seed.h **** namespace daisy
  11:../libDaisy/src/daisy_seed.h **** {
  12:../libDaisy/src/daisy_seed.h **** /**
  13:../libDaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../libDaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../libDaisy/src/daisy_seed.h **** 
  16:../libDaisy/src/daisy_seed.h ****    @ingroup boards
  17:../libDaisy/src/daisy_seed.h **** */
  18:../libDaisy/src/daisy_seed.h **** class DaisySeed
  19:../libDaisy/src/daisy_seed.h **** {
  20:../libDaisy/src/daisy_seed.h ****   public:
  21:../libDaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
  30              		.loc 1 22 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB160:
  36              	.LBI160:
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 2


  37              		.file 2 "../libDaisy/src/dev/codec_ak4556.h"
   1:../libDaisy/src/dev/codec_ak4556.h **** #pragma once
   2:../libDaisy/src/dev/codec_ak4556.h **** #ifndef DSY_CODEC_AK4556_H
   3:../libDaisy/src/dev/codec_ak4556.h **** #define DSY_CODEC_AK4556_H
   4:../libDaisy/src/dev/codec_ak4556.h **** 
   5:../libDaisy/src/dev/codec_ak4556.h **** #include "daisy_core.h"
   6:../libDaisy/src/dev/codec_ak4556.h **** #include "per/gpio.h"
   7:../libDaisy/src/dev/codec_ak4556.h **** 
   8:../libDaisy/src/dev/codec_ak4556.h **** namespace daisy
   9:../libDaisy/src/dev/codec_ak4556.h **** {
  10:../libDaisy/src/dev/codec_ak4556.h **** /** @brief Ak4556 Codec support 
  11:../libDaisy/src/dev/codec_ak4556.h ****  ** @author shensley
  12:../libDaisy/src/dev/codec_ak4556.h ****  ** @addtogroup codec
  13:../libDaisy/src/dev/codec_ak4556.h ****  ** 
  14:../libDaisy/src/dev/codec_ak4556.h ****  ** I don't see any real reason to have this be more than a function, but in case we want
  15:../libDaisy/src/dev/codec_ak4556.h ****  ** to add other functions down the road I wrapped the function in a class.
  16:../libDaisy/src/dev/codec_ak4556.h ****  ***/
  17:../libDaisy/src/dev/codec_ak4556.h **** class Ak4556
  18:../libDaisy/src/dev/codec_ak4556.h **** {
  19:../libDaisy/src/dev/codec_ak4556.h ****   public:
  20:../libDaisy/src/dev/codec_ak4556.h ****     Ak4556() {}
  21:../libDaisy/src/dev/codec_ak4556.h ****     ~Ak4556() {}
  38              		.loc 2 21 5 view .LVU1
  39              		.loc 2 21 5 is_stmt 0 view .LVU2
  40              	.LBE160:
  41              	.LBB161:
  42              	.LBI161:
  43              		.file 3 "../libDaisy/src/sys/system.h"
   1:../libDaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../libDaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../libDaisy/src/sys/system.h **** 
   4:../libDaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../libDaisy/src/sys/system.h **** 
   6:../libDaisy/src/sys/system.h **** #include <cstdint>
   7:../libDaisy/src/sys/system.h **** #include "per/tim.h"
   8:../libDaisy/src/sys/system.h **** 
   9:../libDaisy/src/sys/system.h **** namespace daisy
  10:../libDaisy/src/sys/system.h **** {
  11:../libDaisy/src/sys/system.h **** /** A handle for interacting with the Core System.
  12:../libDaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../libDaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../libDaisy/src/sys/system.h ****  **
  15:../libDaisy/src/sys/system.h ****  ** @author shensley
  16:../libDaisy/src/sys/system.h ****  ** @ingroup system
  17:../libDaisy/src/sys/system.h ****  */
  18:../libDaisy/src/sys/system.h **** class System
  19:../libDaisy/src/sys/system.h **** {
  20:../libDaisy/src/sys/system.h ****   public:
  21:../libDaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../libDaisy/src/sys/system.h ****     struct Config
  23:../libDaisy/src/sys/system.h ****     {
  24:../libDaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../libDaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../libDaisy/src/sys/system.h ****         {
  27:../libDaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../libDaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../libDaisy/src/sys/system.h ****         };
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 3


  30:../libDaisy/src/sys/system.h **** 
  31:../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../libDaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../libDaisy/src/sys/system.h ****          ** Cache Enabled
  34:../libDaisy/src/sys/system.h ****          ** */
  35:../libDaisy/src/sys/system.h ****         void Defaults()
  36:../libDaisy/src/sys/system.h ****         {
  37:../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../libDaisy/src/sys/system.h ****             use_dcache  = true;
  39:../libDaisy/src/sys/system.h ****             use_icache  = true;
  40:../libDaisy/src/sys/system.h ****             skip_clocks = false;
  41:../libDaisy/src/sys/system.h ****         }
  42:../libDaisy/src/sys/system.h **** 
  43:../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../libDaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../libDaisy/src/sys/system.h ****          ** Cache Enabled
  46:../libDaisy/src/sys/system.h ****          ** */
  47:../libDaisy/src/sys/system.h ****         void Boost()
  48:../libDaisy/src/sys/system.h ****         {
  49:../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../libDaisy/src/sys/system.h ****             use_dcache  = true;
  51:../libDaisy/src/sys/system.h ****             use_icache  = true;
  52:../libDaisy/src/sys/system.h ****             skip_clocks = false;
  53:../libDaisy/src/sys/system.h ****         }
  54:../libDaisy/src/sys/system.h **** 
  55:../libDaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../libDaisy/src/sys/system.h ****         bool       use_dcache;
  57:../libDaisy/src/sys/system.h ****         bool       use_icache;
  58:../libDaisy/src/sys/system.h ****         bool       skip_clocks;
  59:../libDaisy/src/sys/system.h ****     };
  60:../libDaisy/src/sys/system.h **** 
  61:../libDaisy/src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy */
  62:../libDaisy/src/sys/system.h ****     enum MemoryRegion
  63:../libDaisy/src/sys/system.h ****     {
  64:../libDaisy/src/sys/system.h ****         INTERNAL_FLASH = 0,
  65:../libDaisy/src/sys/system.h ****         ITCMRAM,
  66:../libDaisy/src/sys/system.h ****         DTCMRAM,
  67:../libDaisy/src/sys/system.h ****         SRAM_D1,
  68:../libDaisy/src/sys/system.h ****         SRAM_D2,
  69:../libDaisy/src/sys/system.h ****         SRAM_D3,
  70:../libDaisy/src/sys/system.h ****         SDRAM,
  71:../libDaisy/src/sys/system.h ****         QSPI,
  72:../libDaisy/src/sys/system.h ****         INVALID_ADDRESS,
  73:../libDaisy/src/sys/system.h ****     };
  74:../libDaisy/src/sys/system.h **** 
  75:../libDaisy/src/sys/system.h ****     /** Bootloader struct for controlling bootloading parameters */
  76:../libDaisy/src/sys/system.h ****     struct BootInfo
  77:../libDaisy/src/sys/system.h ****     {
  78:../libDaisy/src/sys/system.h ****         enum class Type : uint32_t
  79:../libDaisy/src/sys/system.h ****         {
  80:../libDaisy/src/sys/system.h ****             INVALID      = 0x00000000,
  81:../libDaisy/src/sys/system.h ****             JUMP         = 0xDEADBEEF,
  82:../libDaisy/src/sys/system.h ****             SKIP_TIMEOUT = 0x5AFEB007,
  83:../libDaisy/src/sys/system.h ****             INF_TIMEOUT  = 0xB0074EFA,
  84:../libDaisy/src/sys/system.h ****         } status;
  85:../libDaisy/src/sys/system.h ****         uint32_t data;
  86:../libDaisy/src/sys/system.h ****         enum class Version : uint32_t
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 4


  87:../libDaisy/src/sys/system.h ****         {
  88:../libDaisy/src/sys/system.h ****             LT_v6_0 = 0, // Less than v6.0
  89:../libDaisy/src/sys/system.h ****             NONE,        // No bootloader present
  90:../libDaisy/src/sys/system.h ****             v6_0,        // v6.0
  91:../libDaisy/src/sys/system.h ****             v6_1,        // v6.1 or greater
  92:../libDaisy/src/sys/system.h ****             LAST
  93:../libDaisy/src/sys/system.h ****         } version;
  94:../libDaisy/src/sys/system.h ****     };
  95:../libDaisy/src/sys/system.h **** 
  96:../libDaisy/src/sys/system.h ****     System() {}
  97:../libDaisy/src/sys/system.h ****     ~System() {}
  44              		.loc 3 97 5 is_stmt 1 view .LVU3
  45              		.loc 3 97 5 is_stmt 0 view .LVU4
  46              	.LBE161:
  47              	.LBB162:
  48              	.LBI162:
  49              		.file 4 "../libDaisy/src/hid/usb.h"
   1:../libDaisy/src/hid/usb.h **** #pragma once
   2:../libDaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../libDaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../libDaisy/src/hid/usb.h **** #include <stdint.h>
   5:../libDaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../libDaisy/src/hid/usb.h **** 
   7:../libDaisy/src/hid/usb.h **** namespace daisy
   8:../libDaisy/src/hid/usb.h **** /** @addtogroup human_interface
   9:../libDaisy/src/hid/usb.h ****     @{
  10:../libDaisy/src/hid/usb.h **** */
  11:../libDaisy/src/hid/usb.h **** 
  12:../libDaisy/src/hid/usb.h **** {
  13:../libDaisy/src/hid/usb.h **** /** 
  14:../libDaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../libDaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../libDaisy/src/hid/usb.h ****     @date December 2019
  17:../libDaisy/src/hid/usb.h **** */
  18:../libDaisy/src/hid/usb.h **** class UsbHandle
  19:../libDaisy/src/hid/usb.h **** {
  20:../libDaisy/src/hid/usb.h ****   public:
  21:../libDaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../libDaisy/src/hid/usb.h ****     enum class Result
  23:../libDaisy/src/hid/usb.h ****     {
  24:../libDaisy/src/hid/usb.h ****         OK,
  25:../libDaisy/src/hid/usb.h ****         ERR,
  26:../libDaisy/src/hid/usb.h ****     };
  27:../libDaisy/src/hid/usb.h **** 
  28:../libDaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../libDaisy/src/hid/usb.h ****     enum UsbPeriph
  30:../libDaisy/src/hid/usb.h ****     {
  31:../libDaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../libDaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../libDaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../libDaisy/src/hid/usb.h ****     };
  35:../libDaisy/src/hid/usb.h **** 
  36:../libDaisy/src/hid/usb.h **** 
  37:../libDaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../libDaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../libDaisy/src/hid/usb.h **** 
  40:../libDaisy/src/hid/usb.h ****     UsbHandle() {}
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 5


  41:../libDaisy/src/hid/usb.h **** 
  42:../libDaisy/src/hid/usb.h ****     ~UsbHandle() {}
  50              		.loc 4 42 5 is_stmt 1 view .LVU5
  51              		.loc 4 42 5 is_stmt 0 view .LVU6
  52              	.LBE162:
  53              	.LBB163:
  54              	.LBI163:
  55              		.file 5 "../libDaisy/src/per/adc.h"
   1:../libDaisy/src/per/adc.h **** #pragma once
   2:../libDaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../libDaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../libDaisy/src/per/adc.h **** #include <stdint.h>
   5:../libDaisy/src/per/adc.h **** #include <stdlib.h>
   6:../libDaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../libDaisy/src/per/adc.h **** #include "per/gpio.h"
   8:../libDaisy/src/per/adc.h **** 
   9:../libDaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../libDaisy/src/per/adc.h **** 
  11:../libDaisy/src/per/adc.h **** namespace daisy
  12:../libDaisy/src/per/adc.h **** {
  13:../libDaisy/src/per/adc.h **** /** @addtogroup per_analog
  14:../libDaisy/src/per/adc.h ****     @{
  15:../libDaisy/src/per/adc.h **** */
  16:../libDaisy/src/per/adc.h **** 
  17:../libDaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../libDaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../libDaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../libDaisy/src/per/adc.h **** */
  21:../libDaisy/src/per/adc.h **** 
  22:../libDaisy/src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../libDaisy/src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../libDaisy/src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../libDaisy/src/per/adc.h ****  *           one channel.
  26:../libDaisy/src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../libDaisy/src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../libDaisy/src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../libDaisy/src/per/adc.h ****  *           inputs connected.
  30:../libDaisy/src/per/adc.h **** */
  31:../libDaisy/src/per/adc.h **** struct AdcChannelConfig
  32:../libDaisy/src/per/adc.h **** {
  33:../libDaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../libDaisy/src/per/adc.h ****     enum MuxPin
  35:../libDaisy/src/per/adc.h ****     {
  36:../libDaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../libDaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../libDaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../libDaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../libDaisy/src/per/adc.h ****     };
  41:../libDaisy/src/per/adc.h **** 
  42:../libDaisy/src/per/adc.h ****     /** \brief per channel conversion speed added to fixed time based on bitdepth, etc. */
  43:../libDaisy/src/per/adc.h ****     enum ConversionSpeed
  44:../libDaisy/src/per/adc.h ****     {
  45:../libDaisy/src/per/adc.h ****         SPEED_1CYCLES_5,
  46:../libDaisy/src/per/adc.h ****         SPEED_2CYCLES_5,
  47:../libDaisy/src/per/adc.h ****         SPEED_8CYCLES_5,
  48:../libDaisy/src/per/adc.h ****         SPEED_16CYCLES_5,
  49:../libDaisy/src/per/adc.h ****         SPEED_32CYCLES_5,
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 6


  50:../libDaisy/src/per/adc.h ****         SPEED_64CYCLES_5,
  51:../libDaisy/src/per/adc.h ****         SPEED_387CYCLES_5,
  52:../libDaisy/src/per/adc.h ****         SPEED_810CYCLES_5,
  53:../libDaisy/src/per/adc.h ****     };
  54:../libDaisy/src/per/adc.h **** 
  55:../libDaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  56:../libDaisy/src/per/adc.h ****     \param pin Pin to init.
  57:../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  58:../libDaisy/src/per/adc.h ****      */
  59:../libDaisy/src/per/adc.h ****     void InitSingle(Pin pin, ConversionSpeed speed = SPEED_8CYCLES_5);
  60:../libDaisy/src/per/adc.h **** 
  61:../libDaisy/src/per/adc.h ****     /** 
  62:../libDaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  63:../libDaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  64:../libDaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  65:../libDaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  66:../libDaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  67:../libDaisy/src/per/adc.h ****     \param adc_pin &
  68:../libDaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  69:../libDaisy/src/per/adc.h ****     \param mux_0 First mux pin
  70:../libDaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  71:../libDaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  72:../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  73:../libDaisy/src/per/adc.h ****     */
  74:../libDaisy/src/per/adc.h ****     void InitMux(Pin             adc_pin,
  75:../libDaisy/src/per/adc.h ****                  size_t          mux_channels,
  76:../libDaisy/src/per/adc.h ****                  Pin             mux_0,
  77:../libDaisy/src/per/adc.h ****                  Pin             mux_1 = Pin(PORTX, 0),
  78:../libDaisy/src/per/adc.h ****                  Pin             mux_2 = Pin(PORTX, 0),
  79:../libDaisy/src/per/adc.h ****                  ConversionSpeed speed = SPEED_8CYCLES_5);
  80:../libDaisy/src/per/adc.h **** 
  81:../libDaisy/src/per/adc.h ****     GPIO            pin_;                   /**< & */
  82:../libDaisy/src/per/adc.h ****     GPIO            mux_pin_[MUX_SEL_LAST]; /**< & */
  83:../libDaisy/src/per/adc.h ****     uint8_t         mux_channels_;          /**< & */
  84:../libDaisy/src/per/adc.h ****     ConversionSpeed speed_;
  85:../libDaisy/src/per/adc.h **** };
  86:../libDaisy/src/per/adc.h **** 
  87:../libDaisy/src/per/adc.h **** /**
  88:../libDaisy/src/per/adc.h ****    @brief Handler for analog to digital conversion
  89:../libDaisy/src/per/adc.h **** */
  90:../libDaisy/src/per/adc.h **** class AdcHandle
  91:../libDaisy/src/per/adc.h **** {
  92:../libDaisy/src/per/adc.h ****   public:
  93:../libDaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  94:../libDaisy/src/per/adc.h ****     enum OverSampling
  95:../libDaisy/src/per/adc.h ****     {
  96:../libDaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  97:../libDaisy/src/per/adc.h ****         OVS_4,    /**< & */
  98:../libDaisy/src/per/adc.h ****         OVS_8,    /**< & */
  99:../libDaisy/src/per/adc.h ****         OVS_16,   /**< & */
 100:../libDaisy/src/per/adc.h ****         OVS_32,   /**< & */
 101:../libDaisy/src/per/adc.h ****         OVS_64,   /**< & */
 102:../libDaisy/src/per/adc.h ****         OVS_128,  /**< & */
 103:../libDaisy/src/per/adc.h ****         OVS_256,  /**< & */
 104:../libDaisy/src/per/adc.h ****         OVS_512,  /**< & */
 105:../libDaisy/src/per/adc.h ****         OVS_1024, /**< & */
 106:../libDaisy/src/per/adc.h ****         OVS_LAST, /**< & */
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 7


 107:../libDaisy/src/per/adc.h ****     };
 108:../libDaisy/src/per/adc.h **** 
 109:../libDaisy/src/per/adc.h ****     AdcHandle() {}
 110:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
  56              		.loc 5 110 5 is_stmt 1 view .LVU7
  57              		.loc 5 110 5 is_stmt 0 view .LVU8
  58              	.LBE163:
  59              	.LBB164:
  60              	.LBI164:
  61              		.file 6 "../libDaisy/src/hid/audio.h"
   1:../libDaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../libDaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../libDaisy/src/hid/audio.h **** 
   4:../libDaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../libDaisy/src/hid/audio.h **** 
   6:../libDaisy/src/hid/audio.h **** namespace daisy
   7:../libDaisy/src/hid/audio.h **** {
   8:../libDaisy/src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../libDaisy/src/hid/audio.h ****  *  @ingroup audio 
  10:../libDaisy/src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../libDaisy/src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../libDaisy/src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../libDaisy/src/hid/audio.h ****  *            is already taken  care of.
  14:../libDaisy/src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../libDaisy/src/hid/audio.h ****  *           you will have to take the following steps:
  16:../libDaisy/src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../libDaisy/src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../libDaisy/src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../libDaisy/src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../libDaisy/src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../libDaisy/src/hid/audio.h ****  */
  22:../libDaisy/src/hid/audio.h **** class AudioHandle
  23:../libDaisy/src/hid/audio.h **** {
  24:../libDaisy/src/hid/audio.h ****   public:
  25:../libDaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../libDaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../libDaisy/src/hid/audio.h ****     struct Config
  28:../libDaisy/src/hid/audio.h ****     {
  29:../libDaisy/src/hid/audio.h ****         /** number of samples to process per callback */
  30:../libDaisy/src/hid/audio.h ****         size_t blocksize = 48;
  31:../libDaisy/src/hid/audio.h **** 
  32:../libDaisy/src/hid/audio.h ****         /**< Sample rate of audio */
  33:../libDaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate
  34:../libDaisy/src/hid/audio.h ****             = SaiHandle::Config::SampleRate::SAI_48KHZ;
  35:../libDaisy/src/hid/audio.h **** 
  36:../libDaisy/src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  37:../libDaisy/src/hid/audio.h ****         float postgain = 1.f;
  38:../libDaisy/src/hid/audio.h **** 
  39:../libDaisy/src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  40:../libDaisy/src/hid/audio.h ****          *  have unequal input/output ranges
  41:../libDaisy/src/hid/audio.h ****          */
  42:../libDaisy/src/hid/audio.h ****         float output_compensation = 1.f;
  43:../libDaisy/src/hid/audio.h ****     };
  44:../libDaisy/src/hid/audio.h **** 
  45:../libDaisy/src/hid/audio.h ****     enum class Result
  46:../libDaisy/src/hid/audio.h ****     {
  47:../libDaisy/src/hid/audio.h ****         OK,
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 8


  48:../libDaisy/src/hid/audio.h ****         ERR,
  49:../libDaisy/src/hid/audio.h ****     };
  50:../libDaisy/src/hid/audio.h **** 
  51:../libDaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  52:../libDaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  53:../libDaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  54:../libDaisy/src/hid/audio.h ****      */
  55:../libDaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  56:../libDaisy/src/hid/audio.h **** 
  57:../libDaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  58:../libDaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  59:../libDaisy/src/hid/audio.h ****      */
  60:../libDaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  61:../libDaisy/src/hid/audio.h **** 
  62:../libDaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  63:../libDaisy/src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  64:../libDaisy/src/hid/audio.h ****      */
  65:../libDaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  66:../libDaisy/src/hid/audio.h ****                                   OutputBuffer out,
  67:../libDaisy/src/hid/audio.h ****                                   size_t       size);
  68:../libDaisy/src/hid/audio.h **** 
  69:../libDaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  70:../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  71:../libDaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  72:../libDaisy/src/hid/audio.h ****     */
  73:../libDaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  74:../libDaisy/src/hid/audio.h **** 
  75:../libDaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  76:../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  77:../libDaisy/src/hid/audio.h ****     */
  78:../libDaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  79:../libDaisy/src/hid/audio.h **** 
  80:../libDaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  81:../libDaisy/src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  82:../libDaisy/src/hid/audio.h ****      */
  83:../libDaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  84:../libDaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  85:../libDaisy/src/hid/audio.h ****                                               size_t                   size);
  86:../libDaisy/src/hid/audio.h **** 
  87:../libDaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  88:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
  62              		.loc 6 88 5 is_stmt 1 view .LVU9
  63              		.loc 6 88 5 is_stmt 0 view .LVU10
  64              	.LBE164:
  65              		.loc 1 22 19 view .LVU11
  66 0000 7047     		bx	lr
  67              		.cfi_endproc
  68              	.LFE2645:
  70              		.weak	_ZN5daisy9DaisySeedD1Ev
  71              		.thumb_set _ZN5daisy9DaisySeedD1Ev,_ZN5daisy9DaisySeedD2Ev
  72 0002 00BF     		.section	.text._Z12InitHardwarev,"ax",%progbits
  73              		.align	1
  74              		.p2align 2,,3
  75              		.global	_Z12InitHardwarev
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 9


  79              		.fpu fpv5-d16
  81              	_Z12InitHardwarev:
  82              	.LFB4817:
  83              		.file 7 "src/main.cpp"
   1:src/main.cpp  **** // Inclusione delle librerie necessarie
   2:src/main.cpp  **** #include "daisy_seed.h" // Libreria principale per la scheda Daisy Seed
   3:src/main.cpp  **** #include "daisysp.h"    // Libreria DSP per Daisy
   4:src/main.cpp  **** #include "AnalogDelay.h" // Libreria custom per l'effetto delay analogico
   5:src/main.cpp  **** 
   6:src/main.cpp  **** #define ADC_CH 4 // Numero di canali ADC da utilizzare
   7:src/main.cpp  **** 
   8:src/main.cpp  **** // Utilizzo dei namespace per semplificare la scrittura del codice
   9:src/main.cpp  **** using namespace daisy;
  10:src/main.cpp  **** using namespace daisysp;
  11:src/main.cpp  **** 
  12:src/main.cpp  **** // Dichiarazione delle variabili globali
  13:src/main.cpp  **** DaisySeed hw;           // Oggetto principale per gestire l'hardware Daisy
  14:src/main.cpp  **** AnalogDelay delay;      // Oggetto per gestire l'effetto delay
  15:src/main.cpp  **** 
  16:src/main.cpp  **** 
  17:src/main.cpp  **** AdcChannelConfig adcConfig[ADC_CH]; // Array di configurazione per 3 canali ADC
  18:src/main.cpp  **** 
  19:src/main.cpp  **** // Variabili per i parametri del delay
  20:src/main.cpp  **** float delayTime;  // Tempo del delay
  21:src/main.cpp  **** float feedback;   // Quantità di feedback del delay
  22:src/main.cpp  **** float mix;        // Mix tra segnale dry/wet
  23:src/main.cpp  **** float depth;      // Profondità del pitch shifter
  24:src/main.cpp  **** 
  25:src/main.cpp  **** // Aggiungi queste variabili globali
  26:src/main.cpp  **** uint32_t lastBlink;     // Ultimo momento di cambio stato LED
  27:src/main.cpp  **** bool ledState;          // Stato corrente del LED
  28:src/main.cpp  **** 
  29:src/main.cpp  **** void InitHardware() {
  84              		.loc 7 29 21 is_stmt 1 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 16
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  30:src/main.cpp  ****     
  31:src/main.cpp  ****     // Inizializzazione dei tre pin ADC per i potenziometri
  32:src/main.cpp  ****     adcConfig[0].InitSingle(hw.GetPin(15)); // Primo potenziometro
  88              		.loc 7 32 5 view .LVU13
  29:src/main.cpp  ****     
  89              		.loc 7 29 21 is_stmt 0 view .LVU14
  90 0000 30B5     		push	{r4, r5, lr}
  91              		.cfi_def_cfa_offset 12
  92              		.cfi_offset 4, -12
  93              		.cfi_offset 5, -8
  94              		.cfi_offset 14, -4
  95              		.loc 7 32 28 view .LVU15
  96 0002 0F20     		movs	r0, #15
  29:src/main.cpp  ****     
  97              		.loc 7 29 21 view .LVU16
  98 0004 85B0     		sub	sp, sp, #20
  99              		.cfi_def_cfa_offset 32
 100              		.loc 7 32 28 view .LVU17
 101 0006 FFF7FEFF 		bl	_ZN5daisy9DaisySeed6GetPinEh
 102              	.LVL1:
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 10


 103 000a 0346     		mov	r3, r0	@ movhi
 104 000c 1A4C     		ldr	r4, .L5
 105 000e 0222     		movs	r2, #2
 106 0010 ADF80030 		strh	r3, [sp]	@ movhi
 107 0014 0099     		ldr	r1, [sp]
 108 0016 2046     		mov	r0, r4
 109 0018 FFF7FEFF 		bl	_ZN5daisy16AdcChannelConfig10InitSingleENS_3PinENS0_15ConversionSpeedE
 110              	.LVL2:
  33:src/main.cpp  ****     adcConfig[1].InitSingle(hw.GetPin(16)); // Secondo potenziometro
 111              		.loc 7 33 5 is_stmt 1 view .LVU18
 112              		.loc 7 33 28 is_stmt 0 view .LVU19
 113 001c 1020     		movs	r0, #16
 114 001e FFF7FEFF 		bl	_ZN5daisy9DaisySeed6GetPinEh
 115              	.LVL3:
 116 0022 ADF80400 		strh	r0, [sp, #4]	@ movhi
 117 0026 0199     		ldr	r1, [sp, #4]
 118 0028 0222     		movs	r2, #2
 119 002a 04F15400 		add	r0, r4, #84
  34:src/main.cpp  ****     adcConfig[2].InitSingle(hw.GetPin(17)); // Terzo potenziometro
  35:src/main.cpp  ****     adcConfig[3].InitSingle(hw.GetPin(18)); // Quarto potenziometro
  36:src/main.cpp  ****     hw.adc.Init(adcConfig, ADC_CH);              // Inizializzazione ADC con 3 canali
 120              		.loc 7 36 16 view .LVU20
 121 002e 134D     		ldr	r5, .L5+4
  33:src/main.cpp  ****     adcConfig[1].InitSingle(hw.GetPin(16)); // Secondo potenziometro
 122              		.loc 7 33 28 view .LVU21
 123 0030 FFF7FEFF 		bl	_ZN5daisy16AdcChannelConfig10InitSingleENS_3PinENS0_15ConversionSpeedE
 124              	.LVL4:
  34:src/main.cpp  ****     adcConfig[2].InitSingle(hw.GetPin(17)); // Terzo potenziometro
 125              		.loc 7 34 5 is_stmt 1 view .LVU22
  34:src/main.cpp  ****     adcConfig[2].InitSingle(hw.GetPin(17)); // Terzo potenziometro
 126              		.loc 7 34 28 is_stmt 0 view .LVU23
 127 0034 1120     		movs	r0, #17
 128 0036 FFF7FEFF 		bl	_ZN5daisy9DaisySeed6GetPinEh
 129              	.LVL5:
 130 003a ADF80800 		strh	r0, [sp, #8]	@ movhi
 131 003e 0299     		ldr	r1, [sp, #8]
 132 0040 0222     		movs	r2, #2
 133 0042 04F1A800 		add	r0, r4, #168
 134 0046 FFF7FEFF 		bl	_ZN5daisy16AdcChannelConfig10InitSingleENS_3PinENS0_15ConversionSpeedE
 135              	.LVL6:
  35:src/main.cpp  ****     hw.adc.Init(adcConfig, ADC_CH);              // Inizializzazione ADC con 3 canali
 136              		.loc 7 35 5 is_stmt 1 view .LVU24
  35:src/main.cpp  ****     hw.adc.Init(adcConfig, ADC_CH);              // Inizializzazione ADC con 3 canali
 137              		.loc 7 35 28 is_stmt 0 view .LVU25
 138 004a 1220     		movs	r0, #18
 139 004c FFF7FEFF 		bl	_ZN5daisy9DaisySeed6GetPinEh
 140              	.LVL7:
 141 0050 ADF80C00 		strh	r0, [sp, #12]	@ movhi
 142 0054 0399     		ldr	r1, [sp, #12]
 143 0056 04F1FC00 		add	r0, r4, #252
 144 005a 0222     		movs	r2, #2
 145 005c FFF7FEFF 		bl	_ZN5daisy16AdcChannelConfig10InitSingleENS_3PinENS0_15ConversionSpeedE
 146              	.LVL8:
 147              		.loc 7 36 5 is_stmt 1 view .LVU26
 148              		.loc 7 36 16 is_stmt 0 view .LVU27
 149 0060 0423     		movs	r3, #4
 150 0062 2846     		mov	r0, r5
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 11


 151 0064 2146     		mov	r1, r4
 152 0066 1A46     		mov	r2, r3
 153 0068 FFF7FEFF 		bl	_ZN5daisy9AdcHandle4InitEPNS_16AdcChannelConfigEjNS0_12OverSamplingE
 154              	.LVL9:
  37:src/main.cpp  ****     hw.adc.Start();                         // Avvio della conversione ADC
 155              		.loc 7 37 5 is_stmt 1 view .LVU28
 156              		.loc 7 37 17 is_stmt 0 view .LVU29
 157 006c 2846     		mov	r0, r5
  38:src/main.cpp  **** }
 158              		.loc 7 38 1 view .LVU30
 159 006e 05B0     		add	sp, sp, #20
 160              		.cfi_def_cfa_offset 12
 161              		@ sp needed
 162 0070 BDE83040 		pop	{r4, r5, lr}
 163              		.cfi_restore 14
 164              		.cfi_restore 5
 165              		.cfi_restore 4
 166              		.cfi_def_cfa_offset 0
  37:src/main.cpp  ****     hw.adc.Start();                         // Avvio della conversione ADC
 167              		.loc 7 37 17 view .LVU31
 168 0074 FFF7FEBF 		b	_ZN5daisy9AdcHandle5StartEv
 169              	.LVL10:
 170              	.L6:
 171              		.align	2
 172              	.L5:
 173 0078 00000000 		.word	.LANCHOR0
 174 007c 18000000 		.word	.LANCHOR1+24
 175              		.cfi_endproc
 176              	.LFE4817:
 178              		.section	.text._Z8LogScalefff,"ax",%progbits
 179              		.align	1
 180              		.p2align 2,,3
 181              		.global	_Z8LogScalefff
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 185              		.fpu fpv5-d16
 187              	_Z8LogScalefff:
 188              	.LVL11:
 189              	.LFB4818:
  39:src/main.cpp  **** 
  40:src/main.cpp  **** // Aggiungi questa funzione di utility prima di ReadControls()
  41:src/main.cpp  **** float LogScale(float pos, float min_value, float max_value) {
 190              		.loc 7 41 61 is_stmt 1 view -0
 191              		.cfi_startproc
 192              		@ args = 0, pretend = 0, frame = 0
 193              		@ frame_needed = 0, uses_anonymous_args = 0
  42:src/main.cpp  ****     // Implementa una scala logaritmica tra min_value e max_value
  43:src/main.cpp  ****     float min_log = logf(min_value);
 194              		.loc 7 43 5 view .LVU33
  41:src/main.cpp  ****     // Implementa una scala logaritmica tra min_value e max_value
 195              		.loc 7 41 61 is_stmt 0 view .LVU34
 196 0000 08B5     		push	{r3, lr}
 197              		.cfi_def_cfa_offset 8
 198              		.cfi_offset 3, -8
 199              		.cfi_offset 14, -4
 200 0002 2DED048B 		vpush.64	{d8, d9}
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 12


 201              		.cfi_def_cfa_offset 24
 202              		.cfi_offset 80, -24
 203              		.cfi_offset 81, -20
 204              		.cfi_offset 82, -16
 205              		.cfi_offset 83, -12
  41:src/main.cpp  ****     // Implementa una scala logaritmica tra min_value e max_value
 206              		.loc 7 41 61 view .LVU35
 207 0006 B0EE419A 		vmov.f32	s18, s2
 208 000a F0EE408A 		vmov.f32	s17, s0
 209              		.loc 7 43 25 view .LVU36
 210 000e B0EE600A 		vmov.f32	s0, s1
 211              	.LVL12:
 212              		.loc 7 43 25 view .LVU37
 213 0012 FFF7FEFF 		bl	logf
 214              	.LVL13:
 215              		.loc 7 43 25 view .LVU38
 216 0016 B0EE408A 		vmov.f32	s16, s0
  44:src/main.cpp  ****     float max_log = logf(max_value);
 217              		.loc 7 44 25 view .LVU39
 218 001a B0EE490A 		vmov.f32	s0, s18
 219              	.LVL14:
 220              		.loc 7 44 5 is_stmt 1 view .LVU40
 221              		.loc 7 44 25 is_stmt 0 view .LVU41
 222 001e FFF7FEFF 		bl	logf
 223              	.LVL15:
  45:src/main.cpp  ****     float exp_scale = min_log + (max_log - min_log) * pos;
 224              		.loc 7 45 5 is_stmt 1 view .LVU42
 225              		.loc 7 45 42 is_stmt 0 view .LVU43
 226 0022 30EE480A 		vsub.f32	s0, s0, s16
 227              	.LVL16:
  46:src/main.cpp  ****     return expf(exp_scale);
 228              		.loc 7 46 5 is_stmt 1 view .LVU44
 229              		.loc 7 46 16 is_stmt 0 view .LVU45
 230 0026 A0EE288A 		vfma.f32	s16, s0, s17
 231              	.LVL17:
 232              		.loc 7 46 16 view .LVU46
 233 002a B0EE480A 		vmov.f32	s0, s16
  47:src/main.cpp  **** }
 234              		.loc 7 47 1 view .LVU47
 235 002e BDEC048B 		vldm	sp!, {d8-d9}
 236              		.cfi_restore 82
 237              		.cfi_restore 83
 238              		.cfi_restore 80
 239              		.cfi_restore 81
 240              		.cfi_def_cfa_offset 8
 241              	.LVL18:
 242              		.loc 7 47 1 view .LVU48
 243 0032 BDE80840 		pop	{r3, lr}
 244              		.cfi_restore 14
 245              		.cfi_restore 3
 246              		.cfi_def_cfa_offset 0
  46:src/main.cpp  ****     return expf(exp_scale);
 247              		.loc 7 46 16 view .LVU49
 248 0036 FFF7FEBF 		b	expf
 249              	.LVL19:
  46:src/main.cpp  ****     return expf(exp_scale);
 250              		.loc 7 46 16 view .LVU50
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 13


 251              		.cfi_endproc
 252              	.LFE4818:
 254 003a 00BF     		.section	.text._Z12ReadControlsv,"ax",%progbits
 255              		.align	1
 256              		.p2align 2,,3
 257              		.global	_Z12ReadControlsv
 258              		.syntax unified
 259              		.thumb
 260              		.thumb_func
 261              		.fpu fpv5-d16
 263              	_Z12ReadControlsv:
 264              	.LFB4819:
  48:src/main.cpp  **** 
  49:src/main.cpp  **** void ReadControls() {
 265              		.loc 7 49 21 is_stmt 1 view -0
 266              		.cfi_startproc
 267              		@ args = 0, pretend = 0, frame = 0
 268              		@ frame_needed = 0, uses_anonymous_args = 0
  50:src/main.cpp  ****     float knob1 = hw.adc.GetFloat(0);
 269              		.loc 7 50 5 view .LVU52
  49:src/main.cpp  ****     float knob1 = hw.adc.GetFloat(0);
 270              		.loc 7 49 21 is_stmt 0 view .LVU53
 271 0000 38B5     		push	{r3, r4, r5, lr}
 272              		.cfi_def_cfa_offset 16
 273              		.cfi_offset 3, -16
 274              		.cfi_offset 4, -12
 275              		.cfi_offset 5, -8
 276              		.cfi_offset 14, -4
 277              		.loc 7 50 34 view .LVU54
 278 0002 0021     		movs	r1, #0
 279 0004 2948     		ldr	r0, .L13
  51:src/main.cpp  ****     float knob2 = hw.adc.GetFloat(1);
  52:src/main.cpp  ****     float knob3 = hw.adc.GetFloat(2);
  53:src/main.cpp  ****     float knob4 = hw.adc.GetFloat(3);
  54:src/main.cpp  **** 
  55:src/main.cpp  ****     // Nuova implementazione del controllo delay time
  56:src/main.cpp  ****     const float MIN_DELAY = 0.02f;  // 20ms minimo delay
  57:src/main.cpp  ****     const float MAX_DELAY = 1.0f;   // 1000ms massimo delay
  58:src/main.cpp  ****     
  59:src/main.cpp  ****     // Applica la scala logaritmica al delay time
  60:src/main.cpp  ****     delayTime = LogScale(knob3, MIN_DELAY, MAX_DELAY);
 280              		.loc 7 60 15 view .LVU55
 281 0006 2A4C     		ldr	r4, .L13+4
  61:src/main.cpp  ****     
  62:src/main.cpp  ****     feedback = knob1 * 0.99f;
  63:src/main.cpp  ****     mix = knob2;
  64:src/main.cpp  **** 
  65:src/main.cpp  ****     depth = knob4;
  66:src/main.cpp  **** 
  67:src/main.cpp  **** 
  68:src/main.cpp  ****     // Aggiorna i parametri del led
  69:src/main.cpp  ****     uint32_t now = System::GetNow();
  70:src/main.cpp  ****     uint32_t blinkInterval = static_cast<uint32_t>(delayTime * 1000); // Converti in millisecondi
  71:src/main.cpp  ****     
  72:src/main.cpp  ****     if(now - lastBlink >= blinkInterval) {
 282              		.loc 7 72 12 view .LVU56
 283 0008 2A4D     		ldr	r5, .L13+8
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 14


  49:src/main.cpp  ****     float knob1 = hw.adc.GetFloat(0);
 284              		.loc 7 49 21 view .LVU57
 285 000a 2DED048B 		vpush.64	{d8, d9}
 286              		.cfi_def_cfa_offset 32
 287              		.cfi_offset 80, -32
 288              		.cfi_offset 81, -28
 289              		.cfi_offset 82, -24
 290              		.cfi_offset 83, -20
  50:src/main.cpp  ****     float knob2 = hw.adc.GetFloat(1);
 291              		.loc 7 50 34 view .LVU58
 292 000e FFF7FEFF 		bl	_ZNK5daisy9AdcHandle8GetFloatEh
 293              	.LVL20:
  51:src/main.cpp  ****     float knob3 = hw.adc.GetFloat(2);
 294              		.loc 7 51 34 view .LVU59
 295 0012 0121     		movs	r1, #1
 296 0014 2548     		ldr	r0, .L13
  50:src/main.cpp  ****     float knob2 = hw.adc.GetFloat(1);
 297              		.loc 7 50 34 view .LVU60
 298 0016 B0EE408A 		vmov.f32	s16, s0
 299              	.LVL21:
  51:src/main.cpp  ****     float knob3 = hw.adc.GetFloat(2);
 300              		.loc 7 51 5 is_stmt 1 view .LVU61
  51:src/main.cpp  ****     float knob3 = hw.adc.GetFloat(2);
 301              		.loc 7 51 34 is_stmt 0 view .LVU62
 302 001a FFF7FEFF 		bl	_ZNK5daisy9AdcHandle8GetFloatEh
 303              	.LVL22:
  52:src/main.cpp  ****     float knob4 = hw.adc.GetFloat(3);
 304              		.loc 7 52 34 view .LVU63
 305 001e 0221     		movs	r1, #2
 306 0020 2248     		ldr	r0, .L13
  51:src/main.cpp  ****     float knob3 = hw.adc.GetFloat(2);
 307              		.loc 7 51 34 view .LVU64
 308 0022 B0EE409A 		vmov.f32	s18, s0
 309              	.LVL23:
  52:src/main.cpp  ****     float knob4 = hw.adc.GetFloat(3);
 310              		.loc 7 52 5 is_stmt 1 view .LVU65
  52:src/main.cpp  ****     float knob4 = hw.adc.GetFloat(3);
 311              		.loc 7 52 34 is_stmt 0 view .LVU66
 312 0026 FFF7FEFF 		bl	_ZNK5daisy9AdcHandle8GetFloatEh
 313              	.LVL24:
  53:src/main.cpp  **** 
 314              		.loc 7 53 34 view .LVU67
 315 002a 0321     		movs	r1, #3
 316 002c 1F48     		ldr	r0, .L13
  52:src/main.cpp  ****     float knob4 = hw.adc.GetFloat(3);
 317              		.loc 7 52 34 view .LVU68
 318 002e F0EE409A 		vmov.f32	s19, s0
 319              	.LVL25:
  53:src/main.cpp  **** 
 320              		.loc 7 53 5 is_stmt 1 view .LVU69
  53:src/main.cpp  **** 
 321              		.loc 7 53 34 is_stmt 0 view .LVU70
 322 0032 FFF7FEFF 		bl	_ZNK5daisy9AdcHandle8GetFloatEh
 323              	.LVL26:
 324              	.LBB167:
 325              	.LBB168:
  45:src/main.cpp  ****     return expf(exp_scale);
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 15


 326              		.loc 7 45 11 view .LVU71
 327 0036 9FED207A 		vldr.32	s14, .L13+12
 328 003a DFED207A 		vldr.32	s15, .L13+16
 329              	.LBE168:
 330              	.LBE167:
  53:src/main.cpp  **** 
 331              		.loc 7 53 34 view .LVU72
 332 003e F0EE408A 		vmov.f32	s17, s0
 333              	.LVL27:
  56:src/main.cpp  ****     const float MAX_DELAY = 1.0f;   // 1000ms massimo delay
 334              		.loc 7 56 5 is_stmt 1 view .LVU73
  57:src/main.cpp  ****     
 335              		.loc 7 57 5 view .LVU74
  60:src/main.cpp  ****     
 336              		.loc 7 60 5 view .LVU75
 337              	.LBB170:
 338              	.LBI167:
  41:src/main.cpp  ****     // Implementa una scala logaritmica tra min_value e max_value
 339              		.loc 7 41 7 view .LVU76
 340              	.LBB169:
  43:src/main.cpp  ****     float max_log = logf(max_value);
 341              		.loc 7 43 5 view .LVU77
  44:src/main.cpp  ****     float exp_scale = min_log + (max_log - min_log) * pos;
 342              		.loc 7 44 5 view .LVU78
  45:src/main.cpp  ****     return expf(exp_scale);
 343              		.loc 7 45 5 view .LVU79
  46:src/main.cpp  **** }
 344              		.loc 7 46 5 view .LVU80
  46:src/main.cpp  **** }
 345              		.loc 7 46 16 is_stmt 0 view .LVU81
 346 0042 E9EE877A 		vfma.f32	s15, s19, s14
 347              	.LVL28:
  46:src/main.cpp  **** }
 348              		.loc 7 46 16 view .LVU82
 349 0046 B0EE670A 		vmov.f32	s0, s15
 350              	.LVL29:
  46:src/main.cpp  **** }
 351              		.loc 7 46 16 view .LVU83
 352 004a FFF7FEFF 		bl	expf
 353              	.LVL30:
  46:src/main.cpp  **** }
 354              		.loc 7 46 16 view .LVU84
 355              	.LBE169:
 356              	.LBE170:
  62:src/main.cpp  ****     mix = knob2;
 357              		.loc 7 62 22 view .LVU85
 358 004e DFED1C7A 		vldr.32	s15, .L13+20
  62:src/main.cpp  ****     mix = knob2;
 359              		.loc 7 62 14 view .LVU86
 360 0052 1C4B     		ldr	r3, .L13+24
  62:src/main.cpp  ****     mix = knob2;
 361              		.loc 7 62 22 view .LVU87
 362 0054 28EE278A 		vmul.f32	s16, s16, s15
 363              	.LVL31:
  65:src/main.cpp  **** 
 364              		.loc 7 65 11 view .LVU88
 365 0058 1B4A     		ldr	r2, .L13+28
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 16


  63:src/main.cpp  **** 
 366              		.loc 7 63 9 view .LVU89
 367 005a 1C49     		ldr	r1, .L13+32
  65:src/main.cpp  **** 
 368              		.loc 7 65 11 view .LVU90
 369 005c C2ED008A 		vstr.32	s17, [r2]
  62:src/main.cpp  ****     mix = knob2;
 370              		.loc 7 62 14 view .LVU91
 371 0060 83ED008A 		vstr.32	s16, [r3]
  60:src/main.cpp  ****     
 372              		.loc 7 60 15 view .LVU92
 373 0064 84ED000A 		vstr.32	s0, [r4]
  62:src/main.cpp  ****     mix = knob2;
 374              		.loc 7 62 5 is_stmt 1 view .LVU93
  63:src/main.cpp  **** 
 375              		.loc 7 63 5 view .LVU94
  65:src/main.cpp  **** 
 376              		.loc 7 65 5 view .LVU95
  69:src/main.cpp  ****     uint32_t blinkInterval = static_cast<uint32_t>(delayTime * 1000); // Converti in millisecondi
 377              		.loc 7 69 5 view .LVU96
  63:src/main.cpp  **** 
 378              		.loc 7 63 9 is_stmt 0 view .LVU97
 379 0068 81ED009A 		vstr.32	s18, [r1]
  69:src/main.cpp  ****     uint32_t blinkInterval = static_cast<uint32_t>(delayTime * 1000); // Converti in millisecondi
 380              		.loc 7 69 34 view .LVU98
 381 006c FFF7FEFF 		bl	_ZN5daisy6System6GetNowEv
 382              	.LVL32:
  70:src/main.cpp  ****     
 383              		.loc 7 70 62 view .LVU99
 384 0070 D4ED007A 		vldr.32	s15, [r4]
 385 0074 9FED167A 		vldr.32	s14, .L13+36
 386              		.loc 7 72 12 view .LVU100
 387 0078 2B68     		ldr	r3, [r5]
 388              	.LVL33:
  70:src/main.cpp  ****     
 389              		.loc 7 70 5 is_stmt 1 view .LVU101
 390              		.loc 7 72 5 view .LVU102
  70:src/main.cpp  ****     
 391              		.loc 7 70 62 is_stmt 0 view .LVU103
 392 007a 67EE877A 		vmul.f32	s15, s15, s14
 393              	.LVL34:
 394              		.loc 7 72 12 view .LVU104
 395 007e C31A     		subs	r3, r0, r3
  70:src/main.cpp  ****     
 396              		.loc 7 70 14 view .LVU105
 397 0080 FCEEE77A 		vcvt.u32.f32	s15, s15
 398              		.loc 7 72 5 view .LVU106
 399 0084 17EE902A 		vmov	r2, s15	@ int
 400 0088 9342     		cmp	r3, r2
 401 008a 02D2     		bcs	.L12
  73:src/main.cpp  ****         ledState = !ledState;
  74:src/main.cpp  ****         hw.SetLed(ledState);
  75:src/main.cpp  ****         lastBlink = now;
  76:src/main.cpp  ****     }
  77:src/main.cpp  **** }
 402              		.loc 7 77 1 view .LVU107
 403 008c BDEC048B 		vldm	sp!, {d8-d9}
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 17


 404              		.cfi_remember_state
 405              		.cfi_restore 82
 406              		.cfi_restore 83
 407              		.cfi_restore 80
 408              		.cfi_restore 81
 409              		.cfi_def_cfa_offset 16
 410              	.LVL35:
 411              		.loc 7 77 1 view .LVU108
 412 0090 38BD     		pop	{r3, r4, r5, pc}
 413              	.LVL36:
 414              	.L12:
 415              		.cfi_restore_state
  73:src/main.cpp  ****         ledState = !ledState;
 416              		.loc 7 73 9 is_stmt 1 view .LVU109
  73:src/main.cpp  ****         ledState = !ledState;
 417              		.loc 7 73 20 is_stmt 0 view .LVU110
 418 0092 104B     		ldr	r3, .L13+40
 419 0094 0446     		mov	r4, r0
  74:src/main.cpp  ****         lastBlink = now;
 420              		.loc 7 74 18 view .LVU111
 421 0096 1048     		ldr	r0, .L13+44
 422              	.LVL37:
  73:src/main.cpp  ****         ledState = !ledState;
 423              		.loc 7 73 20 view .LVU112
 424 0098 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 425 009a 81F00101 		eor	r1, r1, #1
  73:src/main.cpp  ****         ledState = !ledState;
 426              		.loc 7 73 18 view .LVU113
 427 009e 1970     		strb	r1, [r3]
  74:src/main.cpp  ****         lastBlink = now;
 428              		.loc 7 74 9 is_stmt 1 view .LVU114
  74:src/main.cpp  ****         lastBlink = now;
 429              		.loc 7 74 18 is_stmt 0 view .LVU115
 430 00a0 FFF7FEFF 		bl	_ZN5daisy9DaisySeed6SetLedEb
 431              	.LVL38:
  75:src/main.cpp  ****     }
 432              		.loc 7 75 9 is_stmt 1 view .LVU116
  75:src/main.cpp  ****     }
 433              		.loc 7 75 19 is_stmt 0 view .LVU117
 434 00a4 2C60     		str	r4, [r5]
 435              		.loc 7 77 1 view .LVU118
 436 00a6 BDEC048B 		vldm	sp!, {d8-d9}
 437              		.cfi_restore 82
 438              		.cfi_restore 83
 439              		.cfi_restore 80
 440              		.cfi_restore 81
 441              		.cfi_def_cfa_offset 16
 442              	.LVL39:
 443              		.loc 7 77 1 view .LVU119
 444 00aa 38BD     		pop	{r3, r4, r5, pc}
 445              	.LVL40:
 446              	.L14:
 447              		.loc 7 77 1 view .LVU120
 448              		.align	2
 449              	.L13:
 450 00ac 18000000 		.word	.LANCHOR1+24
 451 00b0 00000000 		.word	.LANCHOR2
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 18


 452 00b4 00000000 		.word	.LANCHOR6
 453 00b8 965E7A40 		.word	1081761430
 454 00bc 965E7AC0 		.word	-1065722218
 455 00c0 A4707D3F 		.word	1065185444
 456 00c4 00000000 		.word	.LANCHOR3
 457 00c8 00000000 		.word	.LANCHOR5
 458 00cc 00000000 		.word	.LANCHOR4
 459 00d0 00007A44 		.word	1148846080
 460 00d4 00000000 		.word	.LANCHOR7
 461 00d8 00000000 		.word	.LANCHOR1
 462              		.cfi_endproc
 463              	.LFE4819:
 465              		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
 466              		.align	1
 467              		.p2align 2,,3
 468              		.global	_Z13AudioCallbackPKPKfPPfj
 469              		.syntax unified
 470              		.thumb
 471              		.thumb_func
 472              		.fpu fpv5-d16
 474              	_Z13AudioCallbackPKPKfPPfj:
 475              	.LVL41:
 476              	.LFB4820:
  78:src/main.cpp  **** 
  79:src/main.cpp  **** // Callback audio eseguito per ogni blocco audio
  80:src/main.cpp  **** void AudioCallback(AudioHandle::InputBuffer in, AudioHandle::OutputBuffer out, size_t size) {
 477              		.loc 7 80 93 is_stmt 1 view -0
 478              		.cfi_startproc
 479              		@ args = 0, pretend = 0, frame = 0
 480              		@ frame_needed = 0, uses_anonymous_args = 0
  81:src/main.cpp  ****     ReadControls();                     // Aggiorna i controlli
 481              		.loc 7 81 5 view .LVU122
  80:src/main.cpp  ****     ReadControls();                     // Aggiorna i controlli
 482              		.loc 7 80 93 is_stmt 0 view .LVU123
 483 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 484              		.cfi_def_cfa_offset 24
 485              		.cfi_offset 4, -24
 486              		.cfi_offset 5, -20
 487              		.cfi_offset 6, -16
 488              		.cfi_offset 7, -12
 489              		.cfi_offset 8, -8
 490              		.cfi_offset 14, -4
  80:src/main.cpp  ****     ReadControls();                     // Aggiorna i controlli
 491              		.loc 7 80 93 view .LVU124
 492 0004 1546     		mov	r5, r2
 493 0006 8846     		mov	r8, r1
 494 0008 0646     		mov	r6, r0
 495              		.loc 7 81 17 view .LVU125
 496 000a FFF7FEFF 		bl	_Z12ReadControlsv
 497              	.LVL42:
  82:src/main.cpp  ****     delay.setDelayTime(delayTime);      // Imposta il tempo di delay
 498              		.loc 7 82 5 is_stmt 1 view .LVU126
 499              		.loc 7 82 23 is_stmt 0 view .LVU127
 500 000e 184B     		ldr	r3, .L23
 501 0010 1848     		ldr	r0, .L23+4
 502 0012 93ED000A 		vldr.32	s0, [r3]
 503 0016 FFF7FEFF 		bl	_ZN11AnalogDelay12setDelayTimeEf
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 19


 504              	.LVL43:
  83:src/main.cpp  ****     delay.setFeedback(feedback);        // Imposta il feedback
 505              		.loc 7 83 5 is_stmt 1 view .LVU128
 506              		.loc 7 83 22 is_stmt 0 view .LVU129
 507 001a 174B     		ldr	r3, .L23+8
 508 001c 1548     		ldr	r0, .L23+4
 509 001e 93ED000A 		vldr.32	s0, [r3]
 510 0022 FFF7FEFF 		bl	_ZN11AnalogDelay11setFeedbackEf
 511              	.LVL44:
  84:src/main.cpp  ****     delay.setMix(mix);                  // Imposta il mix
 512              		.loc 7 84 5 is_stmt 1 view .LVU130
 513              		.loc 7 84 17 is_stmt 0 view .LVU131
 514 0026 154B     		ldr	r3, .L23+12
 515 0028 1248     		ldr	r0, .L23+4
 516 002a 93ED000A 		vldr.32	s0, [r3]
 517 002e FFF7FEFF 		bl	_ZN11AnalogDelay6setMixEf
 518              	.LVL45:
  85:src/main.cpp  ****     delay.setSmoothFactor(depth);              // Imposta la profondità del pitch shifter
 519              		.loc 7 85 5 is_stmt 1 view .LVU132
 520              		.loc 7 85 26 is_stmt 0 view .LVU133
 521 0032 134B     		ldr	r3, .L23+16
 522 0034 0F48     		ldr	r0, .L23+4
 523 0036 93ED000A 		vldr.32	s0, [r3]
 524 003a FFF7FEFF 		bl	_ZN11AnalogDelay15setSmoothFactorEf
 525              	.LVL46:
  86:src/main.cpp  ****     
  87:src/main.cpp  ****     // Processo audio per ogni campione
  88:src/main.cpp  ****     for(size_t i = 0; i < size; i++) {
 526              		.loc 7 88 5 is_stmt 1 view .LVU134
 527              	.LBB171:
 528              		.loc 7 88 25 view .LVU135
 529 003e ADB1     		cbz	r5, .L15
 530              		.loc 7 88 16 is_stmt 0 view .LVU136
 531 0040 0024     		movs	r4, #0
 532              	.LVL47:
 533              	.L17:
 534              	.LBB172:
  89:src/main.cpp  ****         float inL = in[0][i];           // Canale sinistro input
 535              		.loc 7 89 9 is_stmt 1 discriminator 2 view .LVU137
 536              		.loc 7 89 15 is_stmt 0 discriminator 2 view .LVU138
 537 0042 3268     		ldr	r2, [r6]
 538 0044 A700     		lsls	r7, r4, #2
 539              	.LVL48:
  90:src/main.cpp  ****         
  91:src/main.cpp  ****         float wetL = delay.Process(inL);
 540              		.loc 7 91 9 is_stmt 1 discriminator 2 view .LVU139
 541              		.loc 7 91 35 is_stmt 0 discriminator 2 view .LVU140
 542 0046 0B48     		ldr	r0, .L23+4
  89:src/main.cpp  ****         float inL = in[0][i];           // Canale sinistro input
 543              		.loc 7 89 15 discriminator 2 view .LVU141
 544 0048 02EB8402 		add	r2, r2, r4, lsl #2
 545              	.LVL49:
  89:src/main.cpp  ****         float inL = in[0][i];           // Canale sinistro input
 546              		.loc 7 89 15 discriminator 2 view .LVU142
 547              	.LBE172:
  88:src/main.cpp  ****         float inL = in[0][i];           // Canale sinistro input
 548              		.loc 7 88 5 discriminator 2 view .LVU143
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 20


 549 004c 0134     		adds	r4, r4, #1
 550              	.LVL50:
 551              	.LBB173:
 552              		.loc 7 91 35 discriminator 2 view .LVU144
 553 004e 92ED000A 		vldr.32	s0, [r2]
 554 0052 FFF7FEFF 		bl	_ZN11AnalogDelay7ProcessEf
 555              	.LVL51:
 556              		.loc 7 91 35 discriminator 2 view .LVU145
 557              	.LBE173:
  88:src/main.cpp  ****         float inL = in[0][i];           // Canale sinistro input
 558              		.loc 7 88 25 discriminator 2 view .LVU146
 559 0056 A542     		cmp	r5, r4
 560              	.LBB174:
  92:src/main.cpp  ****         
  93:src/main.cpp  ****         // Output processed signal
  94:src/main.cpp  ****         out[0][i] = wetL;
 561              		.loc 7 94 19 discriminator 2 view .LVU147
 562 0058 D8E90023 		ldrd	r2, r3, [r8]
 563 005c 02EB070C 		add	ip, r2, r7
  95:src/main.cpp  ****         out[1][i] = wetL;
 564              		.loc 7 95 19 discriminator 2 view .LVU148
 565 0060 3B44     		add	r3, r3, r7
  94:src/main.cpp  ****         out[1][i] = wetL;
 566              		.loc 7 94 19 discriminator 2 view .LVU149
 567 0062 8CED000A 		vstr.32	s0, [ip]
 568              		.loc 7 95 9 is_stmt 1 discriminator 2 view .LVU150
 569              		.loc 7 95 19 is_stmt 0 discriminator 2 view .LVU151
 570 0066 83ED000A 		vstr.32	s0, [r3]
 571              	.LBE174:
  88:src/main.cpp  ****         float inL = in[0][i];           // Canale sinistro input
 572              		.loc 7 88 5 is_stmt 1 discriminator 2 view .LVU152
 573              	.LVL52:
  88:src/main.cpp  ****         float inL = in[0][i];           // Canale sinistro input
 574              		.loc 7 88 25 discriminator 2 view .LVU153
 575 006a EAD1     		bne	.L17
 576              	.LVL53:
 577              	.L15:
  88:src/main.cpp  ****         float inL = in[0][i];           // Canale sinistro input
 578              		.loc 7 88 25 is_stmt 0 discriminator 2 view .LVU154
 579              	.LBE171:
  96:src/main.cpp  ****     }
  97:src/main.cpp  **** }
 580              		.loc 7 97 1 view .LVU155
 581 006c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 582              	.LVL54:
 583              	.L24:
 584              		.loc 7 97 1 view .LVU156
 585              		.align	2
 586              	.L23:
 587 0070 00000000 		.word	.LANCHOR2
 588 0074 00000000 		.word	delay
 589 0078 00000000 		.word	.LANCHOR3
 590 007c 00000000 		.word	.LANCHOR4
 591 0080 00000000 		.word	.LANCHOR5
 592              		.cfi_endproc
 593              	.LFE4820:
 595              		.section	.text.startup.main,"ax",%progbits
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 21


 596              		.align	1
 597              		.p2align 2,,3
 598              		.global	main
 599              		.syntax unified
 600              		.thumb
 601              		.thumb_func
 602              		.fpu fpv5-d16
 604              	main:
 605              	.LFB4821:
  98:src/main.cpp  **** 
  99:src/main.cpp  **** int main() {
 606              		.loc 7 99 12 is_stmt 1 view -0
 607              		.cfi_startproc
 608              		@ Volatile: function does not return.
 609              		@ args = 0, pretend = 0, frame = 0
 610              		@ frame_needed = 0, uses_anonymous_args = 0
 100:src/main.cpp  ****     hw.Configure();      // Configurazione hardware
 611              		.loc 7 100 5 view .LVU158
  99:src/main.cpp  ****     hw.Configure();      // Configurazione hardware
 612              		.loc 7 99 12 is_stmt 0 view .LVU159
 613 0000 08B5     		push	{r3, lr}
 614              		.cfi_def_cfa_offset 8
 615              		.cfi_offset 3, -8
 616              		.cfi_offset 14, -4
 617              		.loc 7 100 17 view .LVU160
 618 0002 1348     		ldr	r0, .L28
 619 0004 FFF7FEFF 		bl	_ZN5daisy9DaisySeed9ConfigureEv
 620              	.LVL55:
 101:src/main.cpp  ****     hw.Init();          // Inizializzazione hardware
 621              		.loc 7 101 5 is_stmt 1 view .LVU161
 622              		.loc 7 101 12 is_stmt 0 view .LVU162
 623 0008 0021     		movs	r1, #0
 624 000a 1148     		ldr	r0, .L28
 625 000c FFF7FEFF 		bl	_ZN5daisy9DaisySeed4InitEb
 626              	.LVL56:
 102:src/main.cpp  **** 
 103:src/main.cpp  ****     hw.SetAudioBlockSize(4);    // Imposta dimensione del blocco audio
 627              		.loc 7 103 5 is_stmt 1 view .LVU163
 628              		.loc 7 103 25 is_stmt 0 view .LVU164
 629 0010 0421     		movs	r1, #4
 630 0012 0F48     		ldr	r0, .L28
 631 0014 FFF7FEFF 		bl	_ZN5daisy9DaisySeed17SetAudioBlockSizeEj
 632              	.LVL57:
 104:src/main.cpp  ****     hw.SetAudioSampleRate(SaiHandle::Config::SampleRate::SAI_48KHZ); // Imposta sample rate a 48kHz
 633              		.loc 7 104 5 is_stmt 1 view .LVU165
 634              		.loc 7 104 26 is_stmt 0 view .LVU166
 635 0018 0321     		movs	r1, #3
 636 001a 0D48     		ldr	r0, .L28
 637 001c FFF7FEFF 		bl	_ZN5daisy9DaisySeed18SetAudioSampleRateENS_9SaiHandle6Config10SampleRateE
 638              	.LVL58:
 105:src/main.cpp  **** 
 106:src/main.cpp  ****     InitHardware();     // Inizializza LED e ADC
 639              		.loc 7 106 5 is_stmt 1 view .LVU167
 640              		.loc 7 106 17 is_stmt 0 view .LVU168
 641 0020 FFF7FEFF 		bl	_Z12InitHardwarev
 642              	.LVL59:
 107:src/main.cpp  ****     
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 22


 108:src/main.cpp  ****     // Inizializza le variabili del LED
 109:src/main.cpp  ****     lastBlink = System::GetNow();
 643              		.loc 7 109 5 is_stmt 1 view .LVU169
 644              		.loc 7 109 31 is_stmt 0 view .LVU170
 645 0024 FFF7FEFF 		bl	_ZN5daisy6System6GetNowEv
 646              	.LVL60:
 647              		.loc 7 109 15 view .LVU171
 648 0028 0A49     		ldr	r1, .L28+4
 110:src/main.cpp  ****     ledState = false;
 649              		.loc 7 110 14 view .LVU172
 650 002a 0B4B     		ldr	r3, .L28+8
 651 002c 0022     		movs	r2, #0
 109:src/main.cpp  ****     ledState = false;
 652              		.loc 7 109 31 view .LVU173
 653 002e 0446     		mov	r4, r0
 111:src/main.cpp  **** 
 112:src/main.cpp  ****     delay.Init(hw.AudioSampleRate()); // Inizializza il delay con il sample rate corrente
 654              		.loc 7 112 15 view .LVU174
 655 0030 0748     		ldr	r0, .L28
 110:src/main.cpp  **** 
 656              		.loc 7 110 14 view .LVU175
 657 0032 1A70     		strb	r2, [r3]
 109:src/main.cpp  ****     ledState = false;
 658              		.loc 7 109 15 view .LVU176
 659 0034 0C60     		str	r4, [r1]
 110:src/main.cpp  **** 
 660              		.loc 7 110 5 is_stmt 1 view .LVU177
 661              		.loc 7 112 5 view .LVU178
 662              		.loc 7 112 15 is_stmt 0 view .LVU179
 663 0036 FFF7FEFF 		bl	_ZN5daisy9DaisySeed15AudioSampleRateEv
 664              	.LVL61:
 665 003a 0848     		ldr	r0, .L28+12
 666 003c FFF7FEFF 		bl	_ZN11AnalogDelay4InitEf
 667              	.LVL62:
 113:src/main.cpp  **** 
 114:src/main.cpp  ****     hw.StartAudio(AudioCallback); // Avvia il processamento audio
 668              		.loc 7 114 5 is_stmt 1 view .LVU180
 669              		.loc 7 114 18 is_stmt 0 view .LVU181
 670 0040 0749     		ldr	r1, .L28+16
 671 0042 0348     		ldr	r0, .L28
 672 0044 FFF7FEFF 		bl	_ZN5daisy9DaisySeed10StartAudioEPFvPKPKfPPfjE
 673              	.LVL63:
 674              	.L26:
 115:src/main.cpp  **** 
 116:src/main.cpp  ****     // Loop infinito per mantenere il programma in esecuzione
 117:src/main.cpp  ****     while(1) {
 675              		.loc 7 117 5 is_stmt 1 discriminator 1 view .LVU182
 118:src/main.cpp  ****         // Attendi 1ms per ridurre l'utilizzo della CPU
 119:src/main.cpp  ****         System::Delay(1);
 676              		.loc 7 119 9 discriminator 1 view .LVU183
 677              		.loc 7 119 22 is_stmt 0 discriminator 1 view .LVU184
 678 0048 0120     		movs	r0, #1
 679 004a FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 680              	.LVL64:
 117:src/main.cpp  ****         // Attendi 1ms per ridurre l'utilizzo della CPU
 681              		.loc 7 117 5 is_stmt 1 discriminator 1 view .LVU185
 682 004e FBE7     		b	.L26
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 23


 683              	.L29:
 684              		.align	2
 685              	.L28:
 686 0050 00000000 		.word	.LANCHOR1
 687 0054 00000000 		.word	.LANCHOR6
 688 0058 00000000 		.word	.LANCHOR7
 689 005c 00000000 		.word	delay
 690 0060 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 691              		.cfi_endproc
 692              	.LFE4821:
 694              		.section	.text.startup._GLOBAL__sub_I_hw,"ax",%progbits
 695              		.align	1
 696              		.p2align 2,,3
 697              		.syntax unified
 698              		.thumb
 699              		.thumb_func
 700              		.fpu fpv5-d16
 702              	_GLOBAL__sub_I_hw:
 703              	.LFB5384:
 120:src/main.cpp  ****     }
 121:src/main.cpp  **** }
 704              		.loc 7 121 1 view -0
 705              		.cfi_startproc
 706              		@ args = 0, pretend = 0, frame = 0
 707              		@ frame_needed = 0, uses_anonymous_args = 0
 708              	.LBB260:
 709              	.LBI260:
 710              		.loc 7 121 1 view .LVU187
 711              	.LVL65:
 712              	.LBB261:
 713              	.LBB262:
 714              	.LBI262:
  21:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 715              		.loc 1 21 5 view .LVU188
 716              	.LBB263:
 717              	.LBB264:
 718              	.LBI264:
 719              		.file 8 "../libDaisy/src/per/qspi.h"
   1:../libDaisy/src/per/qspi.h **** #ifndef DSY_QSPI
   2:../libDaisy/src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../libDaisy/src/per/qspi.h **** 
   4:../libDaisy/src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../libDaisy/src/per/qspi.h **** 
   6:../libDaisy/src/per/qspi.h **** #include <cstdint>
   7:../libDaisy/src/per/qspi.h **** #include "daisy_core.h"
   8:../libDaisy/src/per/qspi.h **** #include "util/hal_map.h"
   9:../libDaisy/src/per/qspi.h **** 
  10:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  11:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  12:../libDaisy/src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  13:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_DATA       \
  14:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  15:../libDaisy/src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  16:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_BSS        \
  17:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  18:../libDaisy/src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  19:../libDaisy/src/per/qspi.h **** 
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 24


  20:../libDaisy/src/per/qspi.h **** namespace daisy
  21:../libDaisy/src/per/qspi.h **** {
  22:../libDaisy/src/per/qspi.h **** /** @addtogroup serial
  23:../libDaisy/src/per/qspi.h **** @{
  24:../libDaisy/src/per/qspi.h **** */
  25:../libDaisy/src/per/qspi.h **** 
  26:../libDaisy/src/per/qspi.h **** /** 
  27:../libDaisy/src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  28:../libDaisy/src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  29:../libDaisy/src/per/qspi.h ****     * IS25LP080D
  30:../libDaisy/src/per/qspi.h **** */
  31:../libDaisy/src/per/qspi.h **** class QSPIHandle
  32:../libDaisy/src/per/qspi.h **** {
  33:../libDaisy/src/per/qspi.h ****   public:
  34:../libDaisy/src/per/qspi.h ****     enum Result
  35:../libDaisy/src/per/qspi.h ****     {
  36:../libDaisy/src/per/qspi.h ****         OK = 0,
  37:../libDaisy/src/per/qspi.h ****         ERR
  38:../libDaisy/src/per/qspi.h ****     };
  39:../libDaisy/src/per/qspi.h **** 
  40:../libDaisy/src/per/qspi.h ****     /** Indicates the current status of the module. 
  41:../libDaisy/src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  42:../libDaisy/src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  43:../libDaisy/src/per/qspi.h ****          * 
  44:../libDaisy/src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  45:../libDaisy/src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  46:../libDaisy/src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  47:../libDaisy/src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  48:../libDaisy/src/per/qspi.h ****          */
  49:../libDaisy/src/per/qspi.h ****     enum Status
  50:../libDaisy/src/per/qspi.h ****     {
  51:../libDaisy/src/per/qspi.h ****         GOOD = 0,
  52:../libDaisy/src/per/qspi.h ****         E_HAL_ERROR,
  53:../libDaisy/src/per/qspi.h ****         E_SWITCHING_MODES,
  54:../libDaisy/src/per/qspi.h ****         E_INVALID_MODE,
  55:../libDaisy/src/per/qspi.h ****     };
  56:../libDaisy/src/per/qspi.h **** 
  57:../libDaisy/src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  58:../libDaisy/src/per/qspi.h ****     struct Config
  59:../libDaisy/src/per/qspi.h ****     {
  60:../libDaisy/src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  61:../libDaisy/src/per/qspi.h ****         enum Device
  62:../libDaisy/src/per/qspi.h ****         {
  63:../libDaisy/src/per/qspi.h ****             IS25LP080D,  /**< & */
  64:../libDaisy/src/per/qspi.h ****             IS25LP064A,  /**< & */
  65:../libDaisy/src/per/qspi.h ****             DEVICE_LAST, /**< & */
  66:../libDaisy/src/per/qspi.h ****         };
  67:../libDaisy/src/per/qspi.h **** 
  68:../libDaisy/src/per/qspi.h ****         /** 
  69:../libDaisy/src/per/qspi.h ****         Modes of operation.
  70:../libDaisy/src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  71:../libDaisy/src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  72:../libDaisy/src/per/qspi.h ****         possible in this mode. \n 
  73:../libDaisy/src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  74:../libDaisy/src/per/qspi.h ****         */
  75:../libDaisy/src/per/qspi.h ****         enum Mode
  76:../libDaisy/src/per/qspi.h ****         {
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 25


  77:../libDaisy/src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  78:../libDaisy/src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  79:../libDaisy/src/per/qspi.h ****             MODE_LAST,
  80:../libDaisy/src/per/qspi.h ****         };
  81:../libDaisy/src/per/qspi.h **** 
  82:../libDaisy/src/per/qspi.h ****         //SCK,  CE# (active low)
  83:../libDaisy/src/per/qspi.h ****         struct
  84:../libDaisy/src/per/qspi.h ****         {
  85:../libDaisy/src/per/qspi.h ****             Pin io0; /**< & */
  86:../libDaisy/src/per/qspi.h ****             Pin io1; /**< & */
  87:../libDaisy/src/per/qspi.h ****             Pin io2; /**< & */
  88:../libDaisy/src/per/qspi.h ****             Pin io3; /**< & */
  89:../libDaisy/src/per/qspi.h ****             Pin clk; /**< & */
  90:../libDaisy/src/per/qspi.h ****             Pin ncs; /**< & */
  91:../libDaisy/src/per/qspi.h ****         } pin_config;
  92:../libDaisy/src/per/qspi.h **** 
  93:../libDaisy/src/per/qspi.h ****         Device device;
  94:../libDaisy/src/per/qspi.h ****         Mode   mode;
  95:../libDaisy/src/per/qspi.h ****     };
  96:../libDaisy/src/per/qspi.h **** 
  97:../libDaisy/src/per/qspi.h ****     /** 
  98:../libDaisy/src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  99:../libDaisy/src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
 100:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 101:../libDaisy/src/per/qspi.h ****         */
 102:../libDaisy/src/per/qspi.h ****     Result Init(const Config& config);
 103:../libDaisy/src/per/qspi.h **** 
 104:../libDaisy/src/per/qspi.h ****     /** Returns the current config. */
 105:../libDaisy/src/per/qspi.h ****     const Config& GetConfig() const;
 106:../libDaisy/src/per/qspi.h **** 
 107:../libDaisy/src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 108:../libDaisy/src/per/qspi.h ****     // would make manually calling it unnecessary.
 109:../libDaisy/src/per/qspi.h ****     /** 
 110:../libDaisy/src/per/qspi.h ****         Deinitializes the peripheral
 111:../libDaisy/src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 112:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 113:../libDaisy/src/per/qspi.h ****         */
 114:../libDaisy/src/per/qspi.h ****     Result DeInit();
 115:../libDaisy/src/per/qspi.h **** 
 116:../libDaisy/src/per/qspi.h ****     /** 
 117:../libDaisy/src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 118:../libDaisy/src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 119:../libDaisy/src/per/qspi.h ****         \param address Address to write to
 120:../libDaisy/src/per/qspi.h ****         \param size Buffer size
 121:../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 122:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 123:../libDaisy/src/per/qspi.h ****         */
 124:../libDaisy/src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 125:../libDaisy/src/per/qspi.h **** 
 126:../libDaisy/src/per/qspi.h ****     /** 
 127:../libDaisy/src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 128:../libDaisy/src/per/qspi.h ****         \param address Address to write to
 129:../libDaisy/src/per/qspi.h ****         \param size Buffer size
 130:../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 131:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 132:../libDaisy/src/per/qspi.h ****         */
 133:../libDaisy/src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 26


 134:../libDaisy/src/per/qspi.h **** 
 135:../libDaisy/src/per/qspi.h ****     /** 
 136:../libDaisy/src/per/qspi.h ****         Erases the area specified on the chip.
 137:../libDaisy/src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 138:../libDaisy/src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 139:../libDaisy/src/per/qspi.h ****         \param start_addr Address to begin erasing from
 140:../libDaisy/src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 141:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 142:../libDaisy/src/per/qspi.h ****         */
 143:../libDaisy/src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 144:../libDaisy/src/per/qspi.h **** 
 145:../libDaisy/src/per/qspi.h ****     /**  
 146:../libDaisy/src/per/qspi.h ****          Erases a single sector of the chip.  
 147:../libDaisy/src/per/qspi.h ****         TODO: Document the size of this function. 
 148:../libDaisy/src/per/qspi.h ****         \param address Address of sector to erase
 149:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 150:../libDaisy/src/per/qspi.h ****         */
 151:../libDaisy/src/per/qspi.h ****     Result EraseSector(uint32_t address);
 152:../libDaisy/src/per/qspi.h **** 
 153:../libDaisy/src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 154:../libDaisy/src/per/qspi.h ****      *  \returns Status
 155:../libDaisy/src/per/qspi.h ****      */
 156:../libDaisy/src/per/qspi.h ****     Status GetStatus();
 157:../libDaisy/src/per/qspi.h **** 
 158:../libDaisy/src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 159:../libDaisy/src/per/qspi.h ****      *  The memory at this address is read-only
 160:../libDaisy/src/per/qspi.h ****      *  to write to it use the Write function.
 161:../libDaisy/src/per/qspi.h ****      * 
 162:../libDaisy/src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 163:../libDaisy/src/per/qspi.h ****      *                many bytes into the memory
 164:../libDaisy/src/per/qspi.h ****     */
 165:../libDaisy/src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 166:../libDaisy/src/per/qspi.h **** 
 167:../libDaisy/src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 720              		.loc 8 167 5 view .LVU189
 721              		.loc 8 167 5 is_stmt 0 view .LVU190
 722              	.LBE264:
 723              	.LBB267:
 724              	.LBI267:
  58:../libDaisy/src/per/qspi.h ****     {
 725              		.loc 8 58 12 is_stmt 1 view .LVU191
 726              	.LBB268:
 727              	.LBI268:
  84:../libDaisy/src/per/qspi.h ****             Pin io0; /**< & */
 728              		.loc 8 84 9 view .LVU192
 729              	.LBB269:
 730              	.LBI269:
 731              		.file 9 "../libDaisy/src/daisy_core.h"
   1:../libDaisy/src/daisy_core.h **** #pragma once
   2:../libDaisy/src/daisy_core.h **** #ifndef DSY_CORE_HW_H
   3:../libDaisy/src/daisy_core.h **** #define DSY_CORE_HW_H /**< & */
   4:../libDaisy/src/daisy_core.h **** #include <stdint.h>
   5:../libDaisy/src/daisy_core.h **** #include <stdlib.h>
   6:../libDaisy/src/daisy_core.h **** 
   7:../libDaisy/src/daisy_core.h **** #if defined(_MSC_VER)
   8:../libDaisy/src/daisy_core.h **** #define FORCE_INLINE __forceinline /**< & */
   9:../libDaisy/src/daisy_core.h **** #elif defined(__clang__)
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 27


  10:../libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  11:../libDaisy/src/daisy_core.h **** #pragma clang diagnostic ignored "-Wduplicate-decl-specifier"
  12:../libDaisy/src/daisy_core.h **** #elif defined(__GNUC__)
  13:../libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  14:../libDaisy/src/daisy_core.h **** #else
  15:../libDaisy/src/daisy_core.h **** #error unknown compiler
  16:../libDaisy/src/daisy_core.h **** #endif
  17:../libDaisy/src/daisy_core.h **** 
  18:../libDaisy/src/daisy_core.h **** /** @addtogroup utility
  19:../libDaisy/src/daisy_core.h ****     @{
  20:../libDaisy/src/daisy_core.h **** */
  21:../libDaisy/src/daisy_core.h **** 
  22:../libDaisy/src/daisy_core.h **** /** Macro for area of memory that is configured as cacheless
  23:../libDaisy/src/daisy_core.h **** This should be used primarily for DMA buffers, and the like.
  24:../libDaisy/src/daisy_core.h **** */
  25:../libDaisy/src/daisy_core.h **** #define DMA_BUFFER_MEM_SECTION __attribute__((section(".sram1_bss")))
  26:../libDaisy/src/daisy_core.h **** /** 
  27:../libDaisy/src/daisy_core.h **** THE DTCM RAM section is also non-cached. However, is not suitable 
  28:../libDaisy/src/daisy_core.h **** for DMA transfers. Performance is on par with internal SRAM w/ 
  29:../libDaisy/src/daisy_core.h **** cache enabled.
  30:../libDaisy/src/daisy_core.h **** */
  31:../libDaisy/src/daisy_core.h **** #define DTCM_MEM_SECTION __attribute__((section(".dtcmram_bss")))
  32:../libDaisy/src/daisy_core.h **** 
  33:../libDaisy/src/daisy_core.h **** #define FBIPMAX 0.999985f             /**< close to 1.0f-LSB at 16 bit */
  34:../libDaisy/src/daisy_core.h **** #define FBIPMIN (-FBIPMAX)            /**< - (1 - LSB) */
  35:../libDaisy/src/daisy_core.h **** #define U82F_SCALE 0.0078740f         /**< 1 / 127 */
  36:../libDaisy/src/daisy_core.h **** #define F2U8_SCALE 127.0f             /**< 128 - 1 */
  37:../libDaisy/src/daisy_core.h **** #define S82F_SCALE 0.0078125f         /**< 1 / (2**7) */
  38:../libDaisy/src/daisy_core.h **** #define F2S8_SCALE 127.0f             /**< (2 ** 7) - 1 */
  39:../libDaisy/src/daisy_core.h **** #define S162F_SCALE 3.0517578125e-05f /**< 1 / (2** 15) */
  40:../libDaisy/src/daisy_core.h **** #define F2S16_SCALE 32767.0f          /**< (2 ** 15) - 1 */
  41:../libDaisy/src/daisy_core.h **** #define F2S24_SCALE 8388608.0f        /**< 2 ** 23 */
  42:../libDaisy/src/daisy_core.h **** #define S242F_SCALE 1.192092896e-07f  /**< 1 / (2 ** 23) */
  43:../libDaisy/src/daisy_core.h **** #define S24SIGN 0x800000              /**< 2 ** 23 */
  44:../libDaisy/src/daisy_core.h **** #define S322F_SCALE 4.6566129e-10f    /**< 1 / (2** 31) */
  45:../libDaisy/src/daisy_core.h **** #define F2S32_SCALE 2147483647.f      /**< (2 ** 31) - 1 */
  46:../libDaisy/src/daisy_core.h **** 
  47:../libDaisy/src/daisy_core.h **** 
  48:../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  49:../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  50:../libDaisy/src/daisy_core.h **** #define OUT_L out[0]
  51:../libDaisy/src/daisy_core.h **** 
  52:../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  53:../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  54:../libDaisy/src/daisy_core.h **** #define OUT_R out[1]
  55:../libDaisy/src/daisy_core.h **** 
  56:../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  57:../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  58:../libDaisy/src/daisy_core.h **** #define IN_L in[0]
  59:../libDaisy/src/daisy_core.h **** 
  60:../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  61:../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  62:../libDaisy/src/daisy_core.h **** #define IN_R in[1]
  63:../libDaisy/src/daisy_core.h **** 
  64:../libDaisy/src/daisy_core.h **** /** 
  65:../libDaisy/src/daisy_core.h ****     Computes cube.
  66:../libDaisy/src/daisy_core.h ****     \param x Number to be cubed
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 28


  67:../libDaisy/src/daisy_core.h ****     \return x ^ 3
  68:../libDaisy/src/daisy_core.h **** */
  69:../libDaisy/src/daisy_core.h **** FORCE_INLINE float cube(float x)
  70:../libDaisy/src/daisy_core.h **** {
  71:../libDaisy/src/daisy_core.h ****     return (x * x) * x;
  72:../libDaisy/src/daisy_core.h **** }
  73:../libDaisy/src/daisy_core.h **** 
  74:../libDaisy/src/daisy_core.h **** /** 
  75:../libDaisy/src/daisy_core.h ****     Converts unsigned 8-bit to float
  76:../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  77:../libDaisy/src/daisy_core.h ****     \return Scaled number.
  78:../libDaisy/src/daisy_core.h **** */
  79:../libDaisy/src/daisy_core.h **** FORCE_INLINE float u82f(uint8_t x)
  80:../libDaisy/src/daisy_core.h **** {
  81:../libDaisy/src/daisy_core.h ****     return ((float)x - 127.f) * U82F_SCALE;
  82:../libDaisy/src/daisy_core.h **** }
  83:../libDaisy/src/daisy_core.h **** 
  84:../libDaisy/src/daisy_core.h **** /**
  85:../libDaisy/src/daisy_core.h ****     Converts float to unsigned 8-bit
  86:../libDaisy/src/daisy_core.h **** */
  87:../libDaisy/src/daisy_core.h **** FORCE_INLINE uint8_t f2u8(float x)
  88:../libDaisy/src/daisy_core.h **** {
  89:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
  90:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
  91:../libDaisy/src/daisy_core.h ****     return (uint8_t)((x * F2U8_SCALE) + F2U8_SCALE);
  92:../libDaisy/src/daisy_core.h **** }
  93:../libDaisy/src/daisy_core.h **** 
  94:../libDaisy/src/daisy_core.h **** 
  95:../libDaisy/src/daisy_core.h **** /** 
  96:../libDaisy/src/daisy_core.h ****     Converts Signed 8-bit to float
  97:../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  98:../libDaisy/src/daisy_core.h ****     \return Scaled number.
  99:../libDaisy/src/daisy_core.h **** */
 100:../libDaisy/src/daisy_core.h **** FORCE_INLINE float s82f(int8_t x)
 101:../libDaisy/src/daisy_core.h **** {
 102:../libDaisy/src/daisy_core.h ****     return (float)x * S82F_SCALE;
 103:../libDaisy/src/daisy_core.h **** }
 104:../libDaisy/src/daisy_core.h **** 
 105:../libDaisy/src/daisy_core.h **** /**
 106:../libDaisy/src/daisy_core.h ****     Converts float to Signed 8-bit
 107:../libDaisy/src/daisy_core.h **** */
 108:../libDaisy/src/daisy_core.h **** FORCE_INLINE int8_t f2s8(float x)
 109:../libDaisy/src/daisy_core.h **** {
 110:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 111:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 112:../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S8_SCALE);
 113:../libDaisy/src/daisy_core.h **** }
 114:../libDaisy/src/daisy_core.h **** 
 115:../libDaisy/src/daisy_core.h **** /** 
 116:../libDaisy/src/daisy_core.h ****     Converts Signed 16-bit to float
 117:../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
 118:../libDaisy/src/daisy_core.h ****     \return Scaled number.
 119:../libDaisy/src/daisy_core.h **** */
 120:../libDaisy/src/daisy_core.h **** FORCE_INLINE float s162f(int16_t x)
 121:../libDaisy/src/daisy_core.h **** {
 122:../libDaisy/src/daisy_core.h ****     return (float)x * S162F_SCALE;
 123:../libDaisy/src/daisy_core.h **** }
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 29


 124:../libDaisy/src/daisy_core.h **** 
 125:../libDaisy/src/daisy_core.h **** /**
 126:../libDaisy/src/daisy_core.h ****     Converts float to Signed 16-bit
 127:../libDaisy/src/daisy_core.h **** */
 128:../libDaisy/src/daisy_core.h **** FORCE_INLINE int16_t f2s16(float x)
 129:../libDaisy/src/daisy_core.h **** {
 130:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 131:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 132:../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S16_SCALE);
 133:../libDaisy/src/daisy_core.h **** }
 134:../libDaisy/src/daisy_core.h **** 
 135:../libDaisy/src/daisy_core.h **** /**
 136:../libDaisy/src/daisy_core.h ****     Converts Signed 24-bit to float
 137:../libDaisy/src/daisy_core.h ****  */
 138:../libDaisy/src/daisy_core.h **** FORCE_INLINE float s242f(int32_t x)
 139:../libDaisy/src/daisy_core.h **** {
 140:../libDaisy/src/daisy_core.h ****     x = (x ^ S24SIGN) - S24SIGN; //sign extend aka ((x<<8)>>8)
 141:../libDaisy/src/daisy_core.h ****     return (float)x * S242F_SCALE;
 142:../libDaisy/src/daisy_core.h **** }
 143:../libDaisy/src/daisy_core.h **** /**
 144:../libDaisy/src/daisy_core.h ****     Converts float to Signed 24-bit
 145:../libDaisy/src/daisy_core.h ****  */
 146:../libDaisy/src/daisy_core.h **** FORCE_INLINE int32_t f2s24(float x)
 147:../libDaisy/src/daisy_core.h **** {
 148:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 149:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 150:../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S24_SCALE);
 151:../libDaisy/src/daisy_core.h **** }
 152:../libDaisy/src/daisy_core.h **** 
 153:../libDaisy/src/daisy_core.h **** /**
 154:../libDaisy/src/daisy_core.h ****     Converts Signed 32-bit to float
 155:../libDaisy/src/daisy_core.h ****  */
 156:../libDaisy/src/daisy_core.h **** FORCE_INLINE float s322f(int32_t x)
 157:../libDaisy/src/daisy_core.h **** {
 158:../libDaisy/src/daisy_core.h ****     return (float)x * S322F_SCALE;
 159:../libDaisy/src/daisy_core.h **** }
 160:../libDaisy/src/daisy_core.h **** /**
 161:../libDaisy/src/daisy_core.h ****     Converts float to Signed 24-bit
 162:../libDaisy/src/daisy_core.h ****  */
 163:../libDaisy/src/daisy_core.h **** FORCE_INLINE int32_t f2s32(float x)
 164:../libDaisy/src/daisy_core.h **** {
 165:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 166:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 167:../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S32_SCALE);
 168:../libDaisy/src/daisy_core.h **** }
 169:../libDaisy/src/daisy_core.h **** 
 170:../libDaisy/src/daisy_core.h **** #ifdef __cplusplus
 171:../libDaisy/src/daisy_core.h **** 
 172:../libDaisy/src/daisy_core.h **** namespace daisy
 173:../libDaisy/src/daisy_core.h **** {
 174:../libDaisy/src/daisy_core.h **** /** @brief GPIO Port names */
 175:../libDaisy/src/daisy_core.h **** enum GPIOPort
 176:../libDaisy/src/daisy_core.h **** {
 177:../libDaisy/src/daisy_core.h ****     PORTA, /**< Port A */
 178:../libDaisy/src/daisy_core.h ****     PORTB, /**< Port B */
 179:../libDaisy/src/daisy_core.h ****     PORTC, /**< Port C */
 180:../libDaisy/src/daisy_core.h ****     PORTD, /**< Port D */
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 30


 181:../libDaisy/src/daisy_core.h ****     PORTE, /**< Port E */
 182:../libDaisy/src/daisy_core.h ****     PORTF, /**< Port F */
 183:../libDaisy/src/daisy_core.h ****     PORTG, /**< Port G */
 184:../libDaisy/src/daisy_core.h ****     PORTH, /**< Port H */
 185:../libDaisy/src/daisy_core.h ****     PORTI, /**< Port I */
 186:../libDaisy/src/daisy_core.h ****     PORTJ, /**< Port J */
 187:../libDaisy/src/daisy_core.h ****     PORTK, /**< Port K */
 188:../libDaisy/src/daisy_core.h ****     PORTX, /**< Used as a dummy port to signal an invalid pin. */
 189:../libDaisy/src/daisy_core.h **** };
 190:../libDaisy/src/daisy_core.h **** 
 191:../libDaisy/src/daisy_core.h **** /** @brief representation of hardware port/pin combination */
 192:../libDaisy/src/daisy_core.h **** struct Pin
 193:../libDaisy/src/daisy_core.h **** {
 194:../libDaisy/src/daisy_core.h ****     GPIOPort port;
 195:../libDaisy/src/daisy_core.h ****     uint8_t  pin;
 196:../libDaisy/src/daisy_core.h **** 
 197:../libDaisy/src/daisy_core.h ****     /** @brief Constructor creates a valid pin. 
 198:../libDaisy/src/daisy_core.h ****      *  @param pt GPIOPort between PA, and PK corresponding to STM32 Port.
 199:../libDaisy/src/daisy_core.h ****      *  @param pn pin number in range of 0-15
 200:../libDaisy/src/daisy_core.h ****     */
 201:../libDaisy/src/daisy_core.h ****     constexpr Pin(const GPIOPort pt, const uint8_t pn) : port(pt), pin(pn) {}
 202:../libDaisy/src/daisy_core.h **** 
 203:../libDaisy/src/daisy_core.h ****     /** @brief Basic Constructor creates an invalid Pin object */
 204:../libDaisy/src/daisy_core.h ****     constexpr Pin() : port(PORTX), pin(255) {}
 732              		.loc 9 204 15 view .LVU193
 733              		.loc 9 204 15 is_stmt 0 view .LVU194
 734              	.LBE269:
 735              	.LBB270:
 736              	.LBI270:
 737              		.loc 9 204 15 is_stmt 1 view .LVU195
 738              		.loc 9 204 15 is_stmt 0 view .LVU196
 739              	.LBE270:
 740              	.LBB271:
 741              	.LBI271:
 742              		.loc 9 204 15 is_stmt 1 view .LVU197
 743              		.loc 9 204 15 is_stmt 0 view .LVU198
 744              	.LBE271:
 745              	.LBB272:
 746              	.LBI272:
 747              		.loc 9 204 15 is_stmt 1 view .LVU199
 748              		.loc 9 204 15 is_stmt 0 view .LVU200
 749              	.LBE272:
 750              	.LBB273:
 751              	.LBI273:
 752              		.loc 9 204 15 is_stmt 1 view .LVU201
 753              		.loc 9 204 15 is_stmt 0 view .LVU202
 754              	.LBE273:
 755              	.LBB274:
 756              	.LBI274:
 757              		.loc 9 204 15 is_stmt 1 view .LVU203
 758              		.loc 9 204 15 is_stmt 0 view .LVU204
 759              	.LBE274:
 760              	.LBE268:
 761              	.LBE267:
 762              	.LBB275:
 763              	.LBI275:
  87:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 31


 764              		.loc 6 87 5 is_stmt 1 view .LVU205
  87:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 765              		.loc 6 87 5 is_stmt 0 view .LVU206
 766              	.LBE275:
 767              	.LBB278:
 768              	.LBI278:
 109:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 769              		.loc 5 109 5 is_stmt 1 view .LVU207
 109:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 770              		.loc 5 109 5 is_stmt 0 view .LVU208
 771              	.LBE278:
 772              	.LBB279:
 773              	.LBI279:
 774              		.file 10 "../libDaisy/src/per/dac.h"
   1:../libDaisy/src/per/dac.h **** #pragma once
   2:../libDaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:../libDaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../libDaisy/src/per/dac.h **** #include "stm32h7xx_hal.h"
   5:../libDaisy/src/per/dac.h **** #include "daisy_core.h"
   6:../libDaisy/src/per/dac.h **** 
   7:../libDaisy/src/per/dac.h **** namespace daisy
   8:../libDaisy/src/per/dac.h **** {
   9:../libDaisy/src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../libDaisy/src/per/dac.h ****  *  @ingroup per_analog
  11:../libDaisy/src/per/dac.h ****  ** 
  12:../libDaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../libDaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../libDaisy/src/per/dac.h ****  **
  15:../libDaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../libDaisy/src/per/dac.h ****  **
  17:../libDaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../libDaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../libDaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../libDaisy/src/per/dac.h ****  ***/
  21:../libDaisy/src/per/dac.h **** class DacHandle
  22:../libDaisy/src/per/dac.h **** {
  23:../libDaisy/src/per/dac.h ****   public:
  24:../libDaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../libDaisy/src/per/dac.h ****     enum class Result
  26:../libDaisy/src/per/dac.h ****     {
  27:../libDaisy/src/per/dac.h ****         OK,
  28:../libDaisy/src/per/dac.h ****         ERR,
  29:../libDaisy/src/per/dac.h ****     };
  30:../libDaisy/src/per/dac.h **** 
  31:../libDaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../libDaisy/src/per/dac.h ****     enum class Channel
  33:../libDaisy/src/per/dac.h ****     {
  34:../libDaisy/src/per/dac.h ****         ONE,
  35:../libDaisy/src/per/dac.h ****         TWO,
  36:../libDaisy/src/per/dac.h ****         BOTH,
  37:../libDaisy/src/per/dac.h ****     };
  38:../libDaisy/src/per/dac.h **** 
  39:../libDaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../libDaisy/src/per/dac.h ****      **
  41:../libDaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../libDaisy/src/per/dac.h ****      **
  43:../libDaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 32


  44:../libDaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../libDaisy/src/per/dac.h ****      ***/
  46:../libDaisy/src/per/dac.h ****     enum class Mode
  47:../libDaisy/src/per/dac.h ****     {
  48:../libDaisy/src/per/dac.h ****         POLLING,
  49:../libDaisy/src/per/dac.h ****         DMA,
  50:../libDaisy/src/per/dac.h ****     };
  51:../libDaisy/src/per/dac.h **** 
  52:../libDaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../libDaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../libDaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../libDaisy/src/per/dac.h ****      ***/
  56:../libDaisy/src/per/dac.h ****     enum class BitDepth
  57:../libDaisy/src/per/dac.h ****     {
  58:../libDaisy/src/per/dac.h ****         BITS_8,
  59:../libDaisy/src/per/dac.h ****         BITS_12
  60:../libDaisy/src/per/dac.h ****     };
  61:../libDaisy/src/per/dac.h **** 
  62:../libDaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../libDaisy/src/per/dac.h ****     enum class BufferState
  64:../libDaisy/src/per/dac.h ****     {
  65:../libDaisy/src/per/dac.h ****         ENABLED,
  66:../libDaisy/src/per/dac.h ****         DISABLED,
  67:../libDaisy/src/per/dac.h ****     };
  68:../libDaisy/src/per/dac.h **** 
  69:../libDaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../libDaisy/src/per/dac.h ****     struct Config
  71:../libDaisy/src/per/dac.h ****     {
  72:../libDaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../libDaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../libDaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../libDaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../libDaisy/src/per/dac.h ****         uint32_t target_samplerate;
  77:../libDaisy/src/per/dac.h **** 
  78:../libDaisy/src/per/dac.h ****         Channel     chn;
  79:../libDaisy/src/per/dac.h ****         Mode        mode;
  80:../libDaisy/src/per/dac.h ****         BitDepth    bitdepth;
  81:../libDaisy/src/per/dac.h ****         BufferState buff_state;
  82:../libDaisy/src/per/dac.h ****     };
  83:../libDaisy/src/per/dac.h **** 
  84:../libDaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 775              		.loc 10 84 5 is_stmt 1 view .LVU209
 776              		.loc 10 84 5 is_stmt 0 view .LVU210
 777              	.LBE279:
 778              	.LBB282:
 779              	.LBI282:
  40:../libDaisy/src/hid/usb.h **** 
 780              		.loc 4 40 5 is_stmt 1 view .LVU211
  40:../libDaisy/src/hid/usb.h **** 
 781              		.loc 4 40 5 is_stmt 0 view .LVU212
 782              	.LBE282:
 783              	.LBB283:
 784              	.LBI283:
 785              		.file 11 "../libDaisy/src/per/gpio.h"
   1:../libDaisy/src/per/gpio.h **** #pragma once
   2:../libDaisy/src/per/gpio.h **** #ifndef DSY_GPIO_H
   3:../libDaisy/src/per/gpio.h **** #define DSY_GPIO_H
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 33


   4:../libDaisy/src/per/gpio.h **** #include "daisy_core.h"
   5:../libDaisy/src/per/gpio.h **** 
   6:../libDaisy/src/per/gpio.h **** #ifdef __cplusplus
   7:../libDaisy/src/per/gpio.h **** 
   8:../libDaisy/src/per/gpio.h **** namespace daisy
   9:../libDaisy/src/per/gpio.h **** {
  10:../libDaisy/src/per/gpio.h **** /** @brief General Purpose I/O control 
  11:../libDaisy/src/per/gpio.h ****  *  @details peripheral control over a single GPIO
  12:../libDaisy/src/per/gpio.h ****  *  @ingroup peripheral
  13:../libDaisy/src/per/gpio.h ****  *   
  14:../libDaisy/src/per/gpio.h ****  *  Button Input (with internal Pullup resistor)
  15:../libDaisy/src/per/gpio.h ****  *  @include GPIO_Input.cpp 
  16:../libDaisy/src/per/gpio.h ****  * 
  17:../libDaisy/src/per/gpio.h ****  *  Output Example (perfect for blinking an LED)
  18:../libDaisy/src/per/gpio.h ****  *  @include GPIO_Output.cpp
  19:../libDaisy/src/per/gpio.h ****  * 
  20:../libDaisy/src/per/gpio.h **** */
  21:../libDaisy/src/per/gpio.h **** class GPIO
  22:../libDaisy/src/per/gpio.h **** {
  23:../libDaisy/src/per/gpio.h ****   public:
  24:../libDaisy/src/per/gpio.h ****     /** @brief Mode of operation for the specified GPIO */
  25:../libDaisy/src/per/gpio.h ****     enum class Mode
  26:../libDaisy/src/per/gpio.h ****     {
  27:../libDaisy/src/per/gpio.h ****         INPUT,      /**< Input for reading state of pin */
  28:../libDaisy/src/per/gpio.h ****         OUTPUT,     /**< Output w/ push-pull configuration */
  29:../libDaisy/src/per/gpio.h ****         OPEN_DRAIN, /**< Output w/ open-drain configuration */
  30:../libDaisy/src/per/gpio.h ****         ANALOG,     /**< Analog for connection to ADC or DAC peripheral */
  31:../libDaisy/src/per/gpio.h ****     };
  32:../libDaisy/src/per/gpio.h **** 
  33:../libDaisy/src/per/gpio.h ****     /** @brief Configures whether an internal Pull up or Pull down resistor is used. 
  34:../libDaisy/src/per/gpio.h ****      *  
  35:../libDaisy/src/per/gpio.h ****      * Internal Pull up/down resistors are typically 40k ohms, and will be between
  36:../libDaisy/src/per/gpio.h ****      * 30k and 50k
  37:../libDaisy/src/per/gpio.h ****      * 
  38:../libDaisy/src/per/gpio.h ****      * When the Pin is configured in Analog mode, the pull up/down resistors are
  39:../libDaisy/src/per/gpio.h ****      * disabled by hardware. 
  40:../libDaisy/src/per/gpio.h ****      */
  41:../libDaisy/src/per/gpio.h ****     enum class Pull
  42:../libDaisy/src/per/gpio.h ****     {
  43:../libDaisy/src/per/gpio.h ****         NOPULL,   /**< No pull up resistor */
  44:../libDaisy/src/per/gpio.h ****         PULLUP,   /**< Internal pull up enabled */
  45:../libDaisy/src/per/gpio.h ****         PULLDOWN, /**< Internal pull down enabled*/
  46:../libDaisy/src/per/gpio.h ****     };
  47:../libDaisy/src/per/gpio.h **** 
  48:../libDaisy/src/per/gpio.h ****     /** @brief Output speed controls the drive strength, and slew rate of the pin */
  49:../libDaisy/src/per/gpio.h ****     enum class Speed
  50:../libDaisy/src/per/gpio.h ****     {
  51:../libDaisy/src/per/gpio.h ****         LOW,
  52:../libDaisy/src/per/gpio.h ****         MEDIUM,
  53:../libDaisy/src/per/gpio.h ****         HIGH,
  54:../libDaisy/src/per/gpio.h ****         VERY_HIGH,
  55:../libDaisy/src/per/gpio.h ****     };
  56:../libDaisy/src/per/gpio.h **** 
  57:../libDaisy/src/per/gpio.h ****     /** @brief Configuration for a given GPIO */
  58:../libDaisy/src/per/gpio.h ****     struct Config
  59:../libDaisy/src/per/gpio.h ****     {
  60:../libDaisy/src/per/gpio.h ****         Pin   pin;
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 34


  61:../libDaisy/src/per/gpio.h ****         Mode  mode;
  62:../libDaisy/src/per/gpio.h ****         Pull  pull;
  63:../libDaisy/src/per/gpio.h ****         Speed speed;
  64:../libDaisy/src/per/gpio.h **** 
  65:../libDaisy/src/per/gpio.h ****         /** Constructor with no arguments will prepare an invalid GPIO set as
  66:../libDaisy/src/per/gpio.h ****          *  an input, with no pullup. 
  67:../libDaisy/src/per/gpio.h ****          */
  68:../libDaisy/src/per/gpio.h ****         Config()
  69:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
  70:../libDaisy/src/per/gpio.h ****         {
  71:../libDaisy/src/per/gpio.h ****         }
  72:../libDaisy/src/per/gpio.h ****     };
  73:../libDaisy/src/per/gpio.h **** 
  74:../libDaisy/src/per/gpio.h ****     GPIO() {}
 786              		.loc 11 74 5 is_stmt 1 view .LVU213
 787              	.LBB284:
 788              	.LBB285:
 789              	.LBI285:
  68:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 790              		.loc 11 68 9 view .LVU214
 791              	.LBB286:
 792              	.LBB287:
 793              	.LBB288:
 794              	.LBI288:
 795              		.loc 9 204 15 view .LVU215
 796              		.loc 9 204 15 is_stmt 0 view .LVU216
 797              	.LBE288:
 798              	.LBE287:
 799              	.LBE286:
 800              	.LBE285:
 801              	.LBE284:
 802              	.LBE283:
 803              	.LBB297:
 804              	.LBI297:
 805              		.loc 11 74 5 is_stmt 1 view .LVU217
 806              	.LBB298:
 807              	.LBB299:
 808              	.LBI299:
  68:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 809              		.loc 11 68 9 view .LVU218
 810              	.LBB300:
 811              	.LBB301:
 812              	.LBB302:
 813              	.LBI302:
 814              		.loc 9 204 15 view .LVU219
 815              		.loc 9 204 15 is_stmt 0 view .LVU220
 816              	.LBE302:
 817              	.LBE301:
 818              	.LBE300:
 819              	.LBE299:
 820              	.LBE298:
 821              	.LBE297:
 822              	.LBB311:
 823              	.LBI311:
  96:../libDaisy/src/sys/system.h ****     ~System() {}
 824              		.loc 3 96 5 is_stmt 1 view .LVU221
  96:../libDaisy/src/sys/system.h ****     ~System() {}
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 35


 825              		.loc 3 96 5 is_stmt 0 view .LVU222
 826              	.LBE311:
 827              	.LBB312:
 828              	.LBI312:
  20:../libDaisy/src/dev/codec_ak4556.h ****     ~Ak4556() {}
 829              		.loc 2 20 5 is_stmt 1 view .LVU223
 830              	.LBB313:
 831              	.LBI313:
 832              		.loc 11 74 5 view .LVU224
 833              	.LBB314:
 834              	.LBB315:
 835              	.LBI315:
  68:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 836              		.loc 11 68 9 view .LVU225
 837              	.LBB316:
 838              	.LBB317:
 839              	.LBB318:
 840              	.LBI318:
 841              		.loc 9 204 15 view .LVU226
 842              		.loc 9 204 15 is_stmt 0 view .LVU227
 843              	.LBE318:
 844              	.LBE317:
 845              	.LBE316:
 846              	.LBE315:
 847              	.LBE314:
 848              	.LBE313:
 849              	.LBE312:
 850              	.LBB329:
 851              	.LBI329:
 852              		.file 12 "../libDaisy/src/per/sai.h"
   1:../libDaisy/src/per/sai.h **** #pragma once
   2:../libDaisy/src/per/sai.h **** #ifndef DSY_SAI_H
   3:../libDaisy/src/per/sai.h **** #define DSY_SAI_H
   4:../libDaisy/src/per/sai.h **** 
   5:../libDaisy/src/per/sai.h **** #include "util/hal_map.h"
   6:../libDaisy/src/per/sai.h **** #include "daisy_core.h"
   7:../libDaisy/src/per/sai.h **** 
   8:../libDaisy/src/per/sai.h **** namespace daisy
   9:../libDaisy/src/per/sai.h **** {
  10:../libDaisy/src/per/sai.h **** /** 
  11:../libDaisy/src/per/sai.h ****  * Support for I2S Audio Protocol with different bit-depth, samplerate options
  12:../libDaisy/src/per/sai.h ****  * Allows for master or slave, as well as freedom of selecting direction, 
  13:../libDaisy/src/per/sai.h ****  * and other behavior for each peripheral, and block.
  14:../libDaisy/src/per/sai.h ****  * 
  15:../libDaisy/src/per/sai.h ****  * DMA Transfer commands must use buffers located within non-cached memory or use cache maintenance
  16:../libDaisy/src/per/sai.h ****  * To declare an unitialized global element in the DMA memory section:
  17:../libDaisy/src/per/sai.h ****  *    int32_t DSY_DMA_BUFFER_SECTOR my_buffer[96];
  18:../libDaisy/src/per/sai.h ****  *
  19:../libDaisy/src/per/sai.h ****  * Callback functions will be called once per half of the buffer. In the above example, 
  20:../libDaisy/src/per/sai.h ****  * the callback function would be called once for every 48 samples.
  21:../libDaisy/src/per/sai.h ****  * 
  22:../libDaisy/src/per/sai.h ****  * Use SAI Handle like this:
  23:../libDaisy/src/per/sai.h ****  * 
  24:../libDaisy/src/per/sai.h ****  *  SaiHandle::Config sai_config;
  25:../libDaisy/src/per/sai.h ****  *  sai_config.periph          = SaiHandle::Config::Peripheral::SAI_1;
  26:../libDaisy/src/per/sai.h ****  *  sai_config.sr              = SaiHandle::Config::SampleRate::SAI_48KHZ;
  27:../libDaisy/src/per/sai.h ****  *  sai_config.bit_depth       = SaiHandle::Config::BitDepth::SAI_24BIT;
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 36


  28:../libDaisy/src/per/sai.h ****  *  sai_config.a_sync          = SaiHandle::Config::Sync::MASTER;
  29:../libDaisy/src/per/sai.h ****  *  sai_config.b_sync          = SaiHandle::Config::Sync::SLAVE;
  30:../libDaisy/src/per/sai.h ****  *  sai_config.a_dir           = SaiHandle::Config::Direction::RECEIVE;
  31:../libDaisy/src/per/sai.h ****  *  sai_config.b_dir           = SaiHandle::Config::Direction::TRANSMIT;
  32:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.fs   = {DSY_GPIOE, 4};
  33:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.mclk = {DSY_GPIOE, 2};
  34:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sck  = {DSY_GPIOE, 5};
  35:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sa   = {DSY_GPIOE, 6};
  36:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sb   = {DSY_GPIOE, 3};
  37:../libDaisy/src/per/sai.h ****  *  // Then Initialize
  38:../libDaisy/src/per/sai.h ****  *  SaiHandle sai;
  39:../libDaisy/src/per/sai.h ****  *  sai.Init(sai_config);
  40:../libDaisy/src/per/sai.h ****  *  // Now you can use it:
  41:../libDaisy/src/per/sai.h ****  *  sai.StartDma(. . .);
  42:../libDaisy/src/per/sai.h ****  */
  43:../libDaisy/src/per/sai.h **** class SaiHandle
  44:../libDaisy/src/per/sai.h **** {
  45:../libDaisy/src/per/sai.h ****   public:
  46:../libDaisy/src/per/sai.h ****     /** Contains settings for initialising an SAI Interface */
  47:../libDaisy/src/per/sai.h ****     struct Config
  48:../libDaisy/src/per/sai.h ****     {
  49:../libDaisy/src/per/sai.h ****         /** Specifies the internal peripheral to use (mapped to different hardware pins) */
  50:../libDaisy/src/per/sai.h ****         enum class Peripheral
  51:../libDaisy/src/per/sai.h ****         {
  52:../libDaisy/src/per/sai.h ****             SAI_1,
  53:../libDaisy/src/per/sai.h ****             SAI_2,
  54:../libDaisy/src/per/sai.h ****         };
  55:../libDaisy/src/per/sai.h **** 
  56:../libDaisy/src/per/sai.h ****         /** Rate at which samples will be streaming to/from the device. */
  57:../libDaisy/src/per/sai.h ****         enum class SampleRate
  58:../libDaisy/src/per/sai.h ****         {
  59:../libDaisy/src/per/sai.h ****             SAI_8KHZ,
  60:../libDaisy/src/per/sai.h ****             SAI_16KHZ,
  61:../libDaisy/src/per/sai.h ****             SAI_32KHZ,
  62:../libDaisy/src/per/sai.h ****             SAI_48KHZ,
  63:../libDaisy/src/per/sai.h ****             SAI_96KHZ,
  64:../libDaisy/src/per/sai.h ****         };
  65:../libDaisy/src/per/sai.h **** 
  66:../libDaisy/src/per/sai.h ****         /** Bit Depth that the hardware expects to be transferred to/from the device. */
  67:../libDaisy/src/per/sai.h ****         enum class BitDepth
  68:../libDaisy/src/per/sai.h ****         {
  69:../libDaisy/src/per/sai.h ****             SAI_16BIT,
  70:../libDaisy/src/per/sai.h ****             SAI_24BIT,
  71:../libDaisy/src/per/sai.h ****             SAI_32BIT,
  72:../libDaisy/src/per/sai.h ****         };
  73:../libDaisy/src/per/sai.h **** 
  74:../libDaisy/src/per/sai.h ****         /** Specifies whether a particular block is the master or the slave 
  75:../libDaisy/src/per/sai.h ****          ** If both are set to slave, no MCLK signal will be used, and it is
  76:../libDaisy/src/per/sai.h ****          ** expected that the codec will have its own xtal.
  77:../libDaisy/src/per/sai.h ****          */
  78:../libDaisy/src/per/sai.h ****         enum class Sync
  79:../libDaisy/src/per/sai.h ****         {
  80:../libDaisy/src/per/sai.h ****             MASTER,
  81:../libDaisy/src/per/sai.h ****             SLAVE,
  82:../libDaisy/src/per/sai.h ****         };
  83:../libDaisy/src/per/sai.h **** 
  84:../libDaisy/src/per/sai.h ****         /** Specifies the direction for each peripheral block. */
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 37


  85:../libDaisy/src/per/sai.h ****         enum class Direction
  86:../libDaisy/src/per/sai.h ****         {
  87:../libDaisy/src/per/sai.h ****             TRANSMIT,
  88:../libDaisy/src/per/sai.h ****             RECEIVE,
  89:../libDaisy/src/per/sai.h ****         };
  90:../libDaisy/src/per/sai.h **** 
  91:../libDaisy/src/per/sai.h ****         Peripheral periph;
  92:../libDaisy/src/per/sai.h ****         struct
  93:../libDaisy/src/per/sai.h ****         {
  94:../libDaisy/src/per/sai.h ****             Pin mclk, fs, sck, sa, sb;
  95:../libDaisy/src/per/sai.h ****         } pin_config;
  96:../libDaisy/src/per/sai.h ****         SampleRate sr;
  97:../libDaisy/src/per/sai.h ****         BitDepth   bit_depth;
  98:../libDaisy/src/per/sai.h ****         Sync       a_sync, b_sync;
  99:../libDaisy/src/per/sai.h ****         Direction  a_dir, b_dir;
 100:../libDaisy/src/per/sai.h ****     };
 101:../libDaisy/src/per/sai.h **** 
 102:../libDaisy/src/per/sai.h ****     /** Return values for SAI functions */
 103:../libDaisy/src/per/sai.h ****     enum class Result
 104:../libDaisy/src/per/sai.h ****     {
 105:../libDaisy/src/per/sai.h ****         OK,
 106:../libDaisy/src/per/sai.h ****         ERR,
 107:../libDaisy/src/per/sai.h ****     };
 108:../libDaisy/src/per/sai.h **** 
 109:../libDaisy/src/per/sai.h ****     SaiHandle() : pimpl_(nullptr) {}
 853              		.loc 12 109 5 is_stmt 1 view .LVU228
 854              	.LBE329:
 855              	.LBE263:
 856              	.LBE262:
 857              	.LBE261:
 858              	.LBE260:
 859              		.loc 7 121 1 is_stmt 0 view .LVU229
 860 0000 10B5     		push	{r4, lr}
 861              		.cfi_def_cfa_offset 8
 862              		.cfi_offset 4, -8
 863              		.cfi_offset 14, -4
 864              	.LBB373:
 865              	.LBB372:
 866              	.LBB345:
 867              	.LBB342:
 868              	.LBB332:
 869              	.LBB265:
 870              	.LBB266:
 871              		.loc 8 167 34 view .LVU230
 872 0002 2448     		ldr	r0, .L36
 873 0004 0023     		movs	r3, #0
 874              	.LBE266:
 875              	.LBE265:
 876              	.LBE332:
  21:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 877              		.loc 1 21 17 view .LVU231
 878 0006 4FF60B71 		movw	r1, #65291
 879 000a 6FF0F414 		mvn	r4, #15991028
 880              	.LBE342:
 881              	.LBE345:
  13:src/main.cpp  **** AnalogDelay delay;      // Oggetto per gestire l'effetto delay
 882              		.loc 7 13 11 view .LVU232
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 38


 883 000e 224A     		ldr	r2, .L36+4
 884              	.LBB346:
 885              	.LBB343:
 886              	.LBB333:
 887              	.LBB276:
 888              	.LBB277:
  87:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 889              		.loc 6 87 35 view .LVU233
 890 0010 4361     		str	r3, [r0, #20]
 891              	.LBE277:
 892              	.LBE276:
 893              	.LBE333:
 894              	.LBB334:
 895              	.LBB280:
 896              	.LBB281:
 897              		.loc 10 84 33 view .LVU234
 898 0012 0362     		str	r3, [r0, #32]
 899              	.LBE281:
 900              	.LBE280:
 901              	.LBE334:
 902              	.LBB335:
 903              	.LBB327:
 904              	.LBB325:
 905              	.LBB323:
 906              	.LBB321:
 907              	.LBB319:
  69:../libDaisy/src/per/gpio.h ****         {
 908              		.loc 11 69 73 view .LVU235
 909 0014 4366     		str	r3, [r0, #100]
 910              	.LBE319:
 911              	.LBE321:
 912              	.LBE323:
 913              	.LBE325:
 914              	.LBE327:
 915              	.LBE335:
 916              	.LBB336:
 917              	.LBB330:
 918              	.LBB331:
 919              		.loc 12 109 33 view .LVU236
 920 0016 0367     		str	r3, [r0, #112]
 921              	.LVL66:
 922              		.loc 12 109 33 view .LVU237
 923              	.LBE331:
 924              	.LBE330:
 925              	.LBE336:
  21:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 926              		.loc 1 21 17 view .LVU238
 927 0018 8165     		str	r1, [r0, #88]
 928              	.LBB337:
 929              	.LBB295:
 930              	.LBB293:
 931              	.LBB291:
 932              	.LBB289:
  69:../libDaisy/src/per/gpio.h ****         {
 933              		.loc 11 69 73 view .LVU239
 934 001a C0E90A13 		strd	r1, r3, [r0, #40]
 935              	.LBE289:
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 39


 936              	.LBE291:
 937              	.LBE293:
 938              	.LBE295:
 939              	.LBE337:
 940              	.LBB338:
 941              	.LBB309:
 942              	.LBB307:
 943              	.LBB305:
 944              	.LBB303:
 945 001e C0E90F13 		strd	r1, r3, [r0, #60]
 946              	.LBE303:
 947              	.LBE305:
 948              	.LBE307:
 949              	.LBE309:
 950              	.LBE338:
  21:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 951              		.loc 1 21 17 view .LVU240
 952 0022 C0E90034 		strd	r3, r4, [r0]
 953              	.LBE343:
 954              	.LBE346:
  13:src/main.cpp  **** AnalogDelay delay;      // Oggetto per gestire l'effetto delay
 955              		.loc 7 13 11 view .LVU241
 956 0026 1D49     		ldr	r1, .L36+8
 957              	.LBB347:
 958              	.LBB344:
 959              	.LBB339:
 960              	.LBB296:
 961              	.LBB294:
 962              	.LBB292:
 963              	.LBB290:
  69:../libDaisy/src/per/gpio.h ****         {
 964              		.loc 11 69 73 view .LVU242
 965 0028 C0E90C33 		strd	r3, r3, [r0, #48]
 966              	.LBE290:
 967              	.LBE292:
 968              	.LBE294:
 969              	.LBE296:
 970              	.LBE339:
 971              	.LBB340:
 972              	.LBB310:
 973              	.LBB308:
 974              	.LBB306:
 975              	.LBB304:
 976 002c C0E91133 		strd	r3, r3, [r0, #68]
 977              	.LBE304:
 978              	.LBE306:
 979              	.LBE308:
 980              	.LBE310:
 981              	.LBE340:
 982              	.LBB341:
 983              	.LBB328:
 984              	.LBB326:
 985              	.LBB324:
 986              	.LBB322:
 987              	.LBB320:
 988 0030 C0E91733 		strd	r3, r3, [r0, #92]
 989              	.LBE320:
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 40


 990              	.LBE322:
 991              	.LBE324:
 992              	.LBE326:
 993              	.LBE328:
 994              	.LBE341:
  21:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 995              		.loc 1 21 17 view .LVU243
 996 0034 C0E90244 		strd	r4, r4, [r0, #8]
 997              	.LBE344:
 998              	.LBE347:
  13:src/main.cpp  **** AnalogDelay delay;      // Oggetto per gestire l'effetto delay
 999              		.loc 7 13 11 view .LVU244
 1000 0038 FFF7FEFF 		bl	__aeabi_atexit
 1001              	.LVL67:
  14:src/main.cpp  **** 
 1002              		.loc 7 14 13 view .LVU245
 1003 003c 1848     		ldr	r0, .L36+12
 1004 003e FFF7FEFF 		bl	_ZN11AnalogDelayC1Ev
 1005              	.LVL68:
 1006 0042 154A     		ldr	r2, .L36+4
 1007 0044 1749     		ldr	r1, .L36+16
 1008 0046 1648     		ldr	r0, .L36+12
 1009 0048 FFF7FEFF 		bl	__aeabi_atexit
 1010              	.LVL69:
  17:src/main.cpp  **** 
 1011              		.loc 7 17 34 is_stmt 1 view .LVU246
 1012 004c 164A     		ldr	r2, .L36+20
 1013 004e 02F5A87E 		add	lr, r2, #336
 1014              	.L32:
 1015              	.LVL70:
 1016              	.LBB348:
 1017              	.LBI348:
  31:../libDaisy/src/per/adc.h **** {
 1018              		.loc 5 31 8 view .LVU247
 1019              	.LBB349:
 1020              	.LBB350:
 1021              	.LBI350:
 1022              		.loc 11 74 5 view .LVU248
 1023              	.LBB351:
 1024              	.LBI351:
  68:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 1025              		.loc 11 68 9 view .LVU249
 1026              	.LBB352:
 1027              	.LBB353:
 1028              	.LBI353:
 1029              		.loc 9 204 15 view .LVU250
 1030              	.LBE353:
  69:../libDaisy/src/per/gpio.h ****         {
 1031              		.loc 11 69 73 is_stmt 0 view .LVU251
 1032 0052 0021     		movs	r1, #0
 1033              	.LBB356:
 1034              	.LBB354:
 1035              		.loc 9 204 43 view .LVU252
 1036 0054 4FF00B0C 		mov	ip, #11
 1037 0058 FF20     		movs	r0, #255
 1038 005a A2F13C03 		sub	r3, r2, #60
 1039 005e 02F850CC 		strb	ip, [r2, #-80]
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 41


 1040              	.LBE354:
 1041              	.LBE356:
  69:../libDaisy/src/per/gpio.h ****         {
 1042              		.loc 11 69 73 view .LVU253
 1043 0062 42F84C1C 		str	r1, [r2, #-76]
 1044              	.LBB357:
 1045              	.LBB355:
 1046              		.loc 9 204 43 view .LVU254
 1047 0066 02F84F0C 		strb	r0, [r2, #-79]
 1048              	.LVL71:
 1049              		.loc 9 204 43 view .LVU255
 1050              	.LBE355:
 1051              	.LBE357:
  69:../libDaisy/src/per/gpio.h ****         {
 1052              		.loc 11 69 73 view .LVU256
 1053 006a 42E91211 		strd	r1, r1, [r2, #-72]
 1054              	.LVL72:
  69:../libDaisy/src/per/gpio.h ****         {
 1055              		.loc 11 69 73 view .LVU257
 1056              	.LBE352:
 1057              	.LBE351:
 1058              	.LBE350:
  31:../libDaisy/src/per/adc.h **** {
 1059              		.loc 5 31 8 is_stmt 1 view .LVU258
 1060              	.L31:
 1061              	.LBB358:
 1062              	.LBI358:
 1063              		.loc 11 74 5 view .LVU259
 1064              	.LBB359:
 1065              	.LBI359:
  68:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 1066              		.loc 11 68 9 view .LVU260
 1067              	.LBB360:
 1068              	.LBB361:
 1069              	.LBI361:
 1070              		.loc 9 204 15 view .LVU261
 1071              	.LBE361:
 1072              	.LBE360:
 1073              	.LBE359:
 1074              	.LBE358:
  31:../libDaisy/src/per/adc.h **** {
 1075              		.loc 5 31 8 is_stmt 0 view .LVU262
 1076 006e 1433     		adds	r3, r3, #20
 1077              	.LVL73:
 1078              	.LBB370:
 1079              	.LBB368:
 1080              	.LBB366:
  69:../libDaisy/src/per/gpio.h ****         {
 1081              		.loc 11 69 73 view .LVU263
 1082 0070 0021     		movs	r1, #0
 1083              	.LBB364:
 1084              	.LBB362:
 1085              		.loc 9 204 43 view .LVU264
 1086 0072 4FF00B0C 		mov	ip, #11
 1087 0076 FF20     		movs	r0, #255
 1088              	.LBE362:
 1089              	.LBE364:
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 42


 1090              	.LBE366:
 1091              	.LBE368:
 1092              	.LBE370:
  31:../libDaisy/src/per/adc.h **** {
 1093              		.loc 5 31 8 view .LVU265
 1094 0078 9A42     		cmp	r2, r3
 1095              	.LBB371:
 1096              	.LBB369:
 1097              	.LBB367:
  69:../libDaisy/src/per/gpio.h ****         {
 1098              		.loc 11 69 73 view .LVU266
 1099 007a 43F8101C 		str	r1, [r3, #-16]
 1100              	.LBB365:
 1101              	.LBB363:
 1102              		.loc 9 204 43 view .LVU267
 1103 007e 03F814CC 		strb	ip, [r3, #-20]
 1104 0082 03F8130C 		strb	r0, [r3, #-19]
 1105              	.LVL74:
 1106              		.loc 9 204 43 view .LVU268
 1107              	.LBE363:
 1108              	.LBE365:
  69:../libDaisy/src/per/gpio.h ****         {
 1109              		.loc 11 69 73 view .LVU269
 1110 0086 43E90311 		strd	r1, r1, [r3, #-12]
 1111              	.LVL75:
  69:../libDaisy/src/per/gpio.h ****         {
 1112              		.loc 11 69 73 view .LVU270
 1113              	.LBE367:
 1114              	.LBE369:
 1115              	.LBE371:
  31:../libDaisy/src/per/adc.h **** {
 1116              		.loc 5 31 8 is_stmt 1 view .LVU271
  31:../libDaisy/src/per/adc.h **** {
 1117              		.loc 5 31 8 view .LVU272
 1118 008a F0D1     		bne	.L31
 1119              	.LVL76:
  31:../libDaisy/src/per/adc.h **** {
 1120              		.loc 5 31 8 is_stmt 0 view .LVU273
 1121              	.LBE349:
 1122              	.LBE348:
  17:src/main.cpp  **** 
 1123              		.loc 7 17 34 is_stmt 1 view .LVU274
  17:src/main.cpp  **** 
 1124              		.loc 7 17 34 view .LVU275
 1125 008c 5432     		adds	r2, r2, #84
 1126 008e 7245     		cmp	r2, lr
 1127 0090 DFD1     		bne	.L32
 1128              	.LBE372:
 1129              	.LBE373:
 1130              		.loc 7 121 1 is_stmt 0 view .LVU276
 1131 0092 10BD     		pop	{r4, pc}
 1132              	.L37:
 1133              		.align	2
 1134              	.L36:
 1135 0094 00000000 		.word	.LANCHOR1
 1136 0098 00000000 		.word	__dso_handle
 1137 009c 00000000 		.word	_ZN5daisy9DaisySeedD1Ev
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 43


 1138 00a0 00000000 		.word	delay
 1139 00a4 00000000 		.word	_ZN11AnalogDelayD1Ev
 1140 00a8 50000000 		.word	.LANCHOR0+80
 1141              		.cfi_endproc
 1142              	.LFE5384:
 1144              		.section	.init_array,"aw",%init_array
 1145              		.align	2
 1146 0000 00000000 		.word	_GLOBAL__sub_I_hw(target1)
 1147              		.global	ledState
 1148              		.global	lastBlink
 1149              		.global	depth
 1150              		.global	mix
 1151              		.global	feedback
 1152              		.global	delayTime
 1153              		.global	adcConfig
 1154              		.global	delay
 1155              		.global	hw
 1156              		.section	.bss.adcConfig,"aw",%nobits
 1157              		.align	2
 1158              		.set	.LANCHOR0,. + 0
 1161              	adcConfig:
 1162 0000 00000000 		.space	336
 1162      00000000 
 1162      00000000 
 1162      00000000 
 1162      00000000 
 1163              		.section	.bss.delay,"aw",%nobits
 1164              		.align	2
 1167              	delay:
 1168 0000 00000000 		.space	323344
 1168      00000000 
 1168      00000000 
 1168      00000000 
 1168      00000000 
 1169              		.section	.bss.delayTime,"aw",%nobits
 1170              		.align	2
 1171              		.set	.LANCHOR2,. + 0
 1174              	delayTime:
 1175 0000 00000000 		.space	4
 1176              		.section	.bss.depth,"aw",%nobits
 1177              		.align	2
 1178              		.set	.LANCHOR5,. + 0
 1181              	depth:
 1182 0000 00000000 		.space	4
 1183              		.section	.bss.feedback,"aw",%nobits
 1184              		.align	2
 1185              		.set	.LANCHOR3,. + 0
 1188              	feedback:
 1189 0000 00000000 		.space	4
 1190              		.section	.bss.hw,"aw",%nobits
 1191              		.align	2
 1192              		.set	.LANCHOR1,. + 0
 1195              	hw:
 1196 0000 00000000 		.space	116
 1196      00000000 
 1196      00000000 
 1196      00000000 
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 44


 1196      00000000 
 1197              		.section	.bss.lastBlink,"aw",%nobits
 1198              		.align	2
 1199              		.set	.LANCHOR6,. + 0
 1202              	lastBlink:
 1203 0000 00000000 		.space	4
 1204              		.section	.bss.ledState,"aw",%nobits
 1205              		.set	.LANCHOR7,. + 0
 1208              	ledState:
 1209 0000 00       		.space	1
 1210              		.section	.bss.mix,"aw",%nobits
 1211              		.align	2
 1212              		.set	.LANCHOR4,. + 0
 1215              	mix:
 1216 0000 00000000 		.space	4
 1217              		.text
 1218              	.Letext0:
 1219              		.file 13 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\machine\\_default_types.h"
 1220              		.file 14 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\_stdint.h"
 1221              		.file 15 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdint.h"
 1222              		.file 16 "c:\\program files\\daisytoolchain\\lib\\gcc\\arm-none-eabi\\10.2.1\\include\\stddef.h"
 1223              		.file 17 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cmath"
 1224              		.file 18 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\std_abs.h"
 1225              		.file 19 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdlib"
 1226              		.file 20 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdint"
 1227              		.file 21 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\type_traits"
 1228              		.file 22 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\debug\\debug.h"
 1229              		.file 23 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\arm-none-eabi\\t
 1230              		.file 24 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\algorithmf
 1231              		.file 25 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\stl_pair.h
 1232              		.file 26 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\exception_
 1233              		.file 27 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdarg"
 1234              		.file 28 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdio"
 1235              		.file 29 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstring"
 1236              		.file 30 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cwchar"
 1237              		.file 31 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\clocale"
 1238              		.file 32 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\basic_stri
 1239              		.file 33 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\stl_tempbu
 1240              		.file 34 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\predefined
 1241              		.file 35 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\_types.h"
 1242              		.file 36 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\reent.h"
 1243              		.file 37 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\lock.h"
 1244              		.file 38 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\math.h"
 1245              		.file 39 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdlib.h"
 1246              		.file 40 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\math.h"
 1247              		.file 41 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\stdlib.h"
 1248              		.file 42 "../libDaisy/src/per/tim.h"
 1249              		.file 43 "../libDaisy/src/util/wav_format.h"
 1250              		.file 44 "../libDaisy/src/dev/sr_595.h"
 1251              		.file 45 "../libDaisy/src/dev/max11300.h"
 1252              		.file 46 "../libDaisy/src/dev/sdram.h"
 1253              		.file 47 "c:\\program files\\daisytoolchain\\lib\\gcc\\arm-none-eabi\\10.2.1\\include\\stdarg.h"
 1254              		.file 48 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdio.h"
 1255              		.file 49 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\string.h"
 1256              		.file 50 "../DaisySP/Source/Control/adenv.h"
 1257              		.file 51 "../DaisySP/Source/Control/phasor.h"
 1258              		.file 52 "../DaisySP/Source/Utility/dsp.h"
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 45


 1259              		.file 53 "../DaisySP/Source/Synthesis/oscillator.h"
 1260              		.file 54 "../DaisySP/Source/Dynamics/crossfade.h"
 1261              		.file 55 "../DaisySP/Source/Utility/delayline.h"
 1262              		.file 56 "../DaisySP/Source/Effects/pitchshifter.h"
 1263              		.file 57 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\wchar.h"
 1264              		.file 58 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\locale.h"
 1265              		.file 59 "src/AnalogDelay.h"
 1266              		.file 60 "<built-in>"
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 46


DEFINED SYMBOLS
                            *ABS*:00000000 main.cpp
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:17     .text._ZN5daisy9DaisySeedD2Ev:00000000 $t
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:26     .text._ZN5daisy9DaisySeedD2Ev:00000000 _ZN5daisy9DaisySeedD2Ev
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:26     .text._ZN5daisy9DaisySeedD2Ev:00000000 _ZN5daisy9DaisySeedD1Ev
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:73     .text._Z12InitHardwarev:00000000 $t
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:81     .text._Z12InitHardwarev:00000000 _Z12InitHardwarev
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:173    .text._Z12InitHardwarev:00000078 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:179    .text._Z8LogScalefff:00000000 $t
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:187    .text._Z8LogScalefff:00000000 _Z8LogScalefff
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:255    .text._Z12ReadControlsv:00000000 $t
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:263    .text._Z12ReadControlsv:00000000 _Z12ReadControlsv
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:450    .text._Z12ReadControlsv:000000ac $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:466    .text._Z13AudioCallbackPKPKfPPfj:00000000 $t
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:474    .text._Z13AudioCallbackPKPKfPPfj:00000000 _Z13AudioCallbackPKPKfPPfj
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:587    .text._Z13AudioCallbackPKPKfPPfj:00000070 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1167   .bss.delay:00000000 delay
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:596    .text.startup.main:00000000 $t
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:604    .text.startup.main:00000000 main
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:686    .text.startup.main:00000050 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:695    .text.startup._GLOBAL__sub_I_hw:00000000 $t
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:702    .text.startup._GLOBAL__sub_I_hw:00000000 _GLOBAL__sub_I_hw
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1135   .text.startup._GLOBAL__sub_I_hw:00000094 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1145   .init_array:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1208   .bss.ledState:00000000 ledState
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1202   .bss.lastBlink:00000000 lastBlink
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1181   .bss.depth:00000000 depth
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1215   .bss.mix:00000000 mix
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1188   .bss.feedback:00000000 feedback
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1174   .bss.delayTime:00000000 delayTime
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1161   .bss.adcConfig:00000000 adcConfig
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1195   .bss.hw:00000000 hw
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1157   .bss.adcConfig:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1164   .bss.delay:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1170   .bss.delayTime:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1177   .bss.depth:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1184   .bss.feedback:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1191   .bss.hw:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1198   .bss.lastBlink:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1209   .bss.ledState:00000000 $d
C:\Users\39351\AppData\Local\Temp\ccRd4dou.s:1211   .bss.mix:00000000 $d
                           .group:00000000 _ZN5daisy9DaisySeedD5Ev

UNDEFINED SYMBOLS
_ZN5daisy9DaisySeed6GetPinEh
_ZN5daisy16AdcChannelConfig10InitSingleENS_3PinENS0_15ConversionSpeedE
_ZN5daisy9AdcHandle4InitEPNS_16AdcChannelConfigEjNS0_12OverSamplingE
_ZN5daisy9AdcHandle5StartEv
logf
expf
_ZNK5daisy9AdcHandle8GetFloatEh
_ZN5daisy6System6GetNowEv
_ZN5daisy9DaisySeed6SetLedEb
_ZN11AnalogDelay12setDelayTimeEf
_ZN11AnalogDelay11setFeedbackEf
_ZN11AnalogDelay6setMixEf
_ZN11AnalogDelay15setSmoothFactorEf
ARM GAS  C:\Users\39351\AppData\Local\Temp\ccRd4dou.s 			page 47


_ZN11AnalogDelay7ProcessEf
_ZN5daisy9DaisySeed9ConfigureEv
_ZN5daisy9DaisySeed4InitEb
_ZN5daisy9DaisySeed17SetAudioBlockSizeEj
_ZN5daisy9DaisySeed18SetAudioSampleRateENS_9SaiHandle6Config10SampleRateE
_ZN5daisy9DaisySeed15AudioSampleRateEv
_ZN11AnalogDelay4InitEf
_ZN5daisy9DaisySeed10StartAudioEPFvPKPKfPPfjE
_ZN5daisy6System5DelayEm
__aeabi_atexit
_ZN11AnalogDelayC1Ev
__dso_handle
_ZN11AnalogDelayD1Ev
