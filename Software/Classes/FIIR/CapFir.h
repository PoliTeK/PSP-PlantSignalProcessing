#pragma once
#include "daisysp.h"
#include "daisy_seed.h"
#include <cstdint>

class CapFir {


public:
    CapFir();
    ~CapFir();

    enum ResType {
        LOW = 0,
        MID,
        HIGH,
    };

    
    void Init(enum ResType res_type);
    float Process(float in);
    

private:

    enum ResType _resType;

    float _bufferL[16];
    float _bufferM[32];
    float _bufferH[64];

    // ft = 5HZ 
    float _coeffL[16] = {
        0.00340895f, 	0.00742026f, 	0.01884629f, 	0.03946715f, 	0.06766408f, 	0.09843337f, 	0.12477494f, 	0.13998497f, 	0.13998497f, 	0.12477494f, 	0.09843337f, 	0.06766408f, 	0.03946715f, 	0.01884629f, 	0.00742026f, 0.00340895f
    };
    float _coeffM[32] = {
        -0.00164670f, 	-0.00196745f, 	-0.00250037f, 	-0.00296843f, 	-0.00284469f, 	-0.00142778f, 	0.00202256f, 	0.00811480f, 	0.01715526f, 	0.02901635f, 	0.04307608f, 	0.05824871f, 	0.07310778f, 	0.08608407f, 	0.09570411f, 	0.10082569f, 	0.10082569f, 	0.09570411f, 	0.08608407f, 	0.07310778f, 	0.05824871f, 	0.04307608f, 	0.02901635f, 	0.01715526f, 	0.00811480f, 	0.00202256f, 	-0.00142778f, 	-0.00284469f, 	-0.00296843f, 	-0.00250037f, 	-0.00196745f, -0.00164670f
    };
    float _coeffH[64] = {
        -0.00036654f, 	-0.00013417f, 	0.00015024f, 	0.00050861f, 	0.00094920f, 	0.00145387f, 	0.00196926f, 	0.00240450f, 	0.00263739f, 	0.00252959f, 	0.00194958f, 	0.00080089f, 	-0.00094856f, 	-0.00324077f, 	-0.00591034f, 	-0.00867995f, 	-0.01117124f, 	-0.01293192f, 	-0.01347777f, 	-0.01234556f, 	-0.00915132f, 	-0.00364692f, 	0.00423247f, 	0.01433693f, 	0.02629160f, 	0.03951070f, 	0.05323597f, 	0.06659648f, 	0.07868416f, 	0.08863713f, 	0.09572185f, 	0.09940465f, 	0.09940465f, 	0.09572185f, 	0.08863713f, 	0.07868416f, 	0.06659648f, 	0.05323597f, 	0.03951070f, 	0.02629160f, 	0.01433693f, 	0.00423247f, 	-0.00364692f, 	-0.00915132f, 	-0.01234556f, 	-0.01347777f, 	-0.01293192f, 	-0.01117124f, 	-0.00867995f, 	-0.00591034f, 	-0.00324077f, 	-0.00094856f, 	0.00080089f, 	0.00194958f, 	0.00252959f, 	0.00263739f, 	0.00240450f, 	0.00196926f, 	0.00145387f, 	0.00094920f, 	0.00050861f, 	0.00015024f, 	-0.00013417f, -0.00036654f
    };
   
   
    

};