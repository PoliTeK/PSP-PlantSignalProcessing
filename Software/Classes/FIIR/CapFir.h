#pragma once
#include "daisysp.h"
#include "daisy_seed.h"
#include <cstdint>

class CapFir {


public:
    CapFir();
    ~CapFir();

    enum ResType {
        LOW = 0,
        MID,
        HIGH,
    };

    
    void Init(enum ResType res_type);
    float Process(float in);
    

private:

    enum ResType _resType;

    float _bufferL[16];
    float _bufferM[32];
    float _bufferH[64];

    // ft = 5HZ 
    float _coeffL[16] = {
        0.00970490f, 	0.01456294f, 	0.02828953f, 	0.04855131f, 	0.07186047f, 	0.09418267f, 	0.11164295f, 	0.12120522f, 	0.12120522f, 	0.11164295f, 	0.09418267f, 	0.07186047f, 	0.04855131f, 	0.02828953f, 	0.01456294f, 0.00970490f
    };
    float _coeffM[32] = {
        0.00460031f, 	0.00516760f, 	0.00680959f, 	0.00947314f, 	0.01306050f, 	0.01743316f, 	0.02241756f, 	0.02781242f, 	0.03339723f, 	0.03894175f, 	0.04421591f, 	0.04899977f, 	0.05309309f, 	0.05632406f, 	0.05855676f, 	0.05969715f, 	0.05969715f, 	0.05855676f, 	0.05632406f, 	0.05309309f, 	0.04899977f, 	0.04421591f, 	0.03894175f, 	0.03339723f, 	0.02781242f, 	0.02241756f, 	0.01743316f, 	0.01306050f, 	0.00947314f, 	0.00680959f, 	0.00516760f, 0.00460031f
    };
    float _coeffH[64] = {
        0.00203440f, 	0.00211547f, 	0.00231539f, 	0.00263591f, 	0.00307732f, 	0.00363844f, 	0.00431659f, 	0.00510760f, 	0.00600585f, 	0.00700433f, 	0.00809468f, 	0.00926731f, 	0.01051147f, 	0.01181541f, 	0.01316648f, 	0.01455128f, 	0.01595582f, 	0.01736572f, 	0.01876633f, 	0.02014292f, 	0.02148090f, 	0.02276594f, 	0.02398419f, 	0.02512242f, 	0.02616823f, 	0.02711014f, 	0.02793777f, 	0.02864200f, 	0.02921501f, 	0.02965044f, 	0.02994345f, 	0.03009078f, 	0.03009078f, 	0.02994345f, 	0.02965044f, 	0.02921501f, 	0.02864200f, 	0.02793777f, 	0.02711014f, 	0.02616823f, 	0.02512242f, 	0.02398419f, 	0.02276594f, 	0.02148090f, 	0.02014292f, 	0.01876633f, 	0.01736572f, 	0.01595582f, 	0.01455128f, 	0.01316648f, 	0.01181541f, 	0.01051147f, 	0.00926731f, 	0.00809468f, 	0.00700433f, 	0.00600585f, 	0.00510760f, 	0.00431659f, 	0.00363844f, 	0.00307732f, 	0.00263591f, 	0.00231539f, 	0.00211547f, 0.00203440f
    };
    
   
   
    

};